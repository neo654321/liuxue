"use strict";(self["webpackChunkshop"]=self["webpackChunkshop"]||[]).push([[885],{45155:function(t,i,e){e(22663),e(23434),e(94108)},90885:function(t,i,e){e.r(i),e.d(i,{default:function(){return w}});e(41631);var s=function(){var t=this,i=t._self._c;return i("div",{staticClass:"login"},[i("nationality-list",{ref:"controlChild",attrs:{title:t.$t("选择区域码")},on:{getName:function(i){return t.getName(arguments)}}}),i("Vcode",{staticStyle:{direction:"ltr"},attrs:{imgs:[t.img1,t.img2,t.img3,t.img4,t.img5],show:t.show,canvasHeight:200,sliderText:t.$t("拖动滑块以完成拼图"),successText:t.$t("验证通过!"),failText:t.$t("验证失败,请重试")},on:{success:t.onSuccess,fail:t.onFail,close:function(i){t.show=!1}}}),i("div",{staticClass:"lang-right"},[i("div",{staticClass:"lang-left",on:{click:t.onClickLeft}},[i("van-icon",{attrs:{name:"arrow-left"}})],1),t.isShelves?i("router-link",{attrs:{to:"/language"}},[i("img",{staticClass:"lang-icon",attrs:{src:e(21652)}})]):t._e()],1),i("div",{staticClass:"login-title"},[t._v(t._s(t.$t("登录")))]),i("div",{staticClass:"account_form"},[i("div",{staticClass:"title-input m-t20 m-b10"},[t._v(t._s(t.$t("邮箱")))]),i("div",{staticClass:"login-input"},[i("el-input",{attrs:{placeholder:t.$t("请输入邮箱"),maxlength:"64",clearable:""},model:{value:t.it.input1,callback:function(i){t.$set(t.it,"input1","string"===typeof i?i.trim():i)},expression:"it.input1"}})],1),i("div",{staticClass:"title-input m-t20 m-b10"},[t._v(t._s(t.$t("密码")))]),i("div",{staticClass:"login-input"},[i("el-input",{attrs:{placeholder:t.$t("请输入密码"),maxlength:"20","show-password":"",clearable:""},model:{value:t.it.input2,callback:function(i){t.$set(t.it,"input2","string"===typeof i?i.trim():i)},expression:"it.input2"}})],1)]),i("div",{staticClass:"wangjimima",on:{click:t.handleJump}},[t._v(t._s(t.$t("忘记密码？")))]),i("div",{staticClass:"tijiao",on:{click:t.post_form}},[t._v(t._s(t.$t("登录")))]),i("div",{staticClass:"zhuce"},[i("div",{staticClass:"zhuce-flex"}),i("div",{staticClass:"zhuce-text1"},[t._v(t._s(t.$t("还没有账号？")))]),i("router-link",{attrs:{to:"/register"}},[i("div",{staticClass:"zhuce-text2"},[t._v(t._s(t.$t("去注册")))])]),i("div",{staticClass:"zhuce-flex"})],1),i("div",{staticClass:"servece_box",on:{click:t.handleJump}},[i("img",{attrs:{src:e(62533)}})])],1)},n=[],a=e(66986),o=e(9610),r=(e(45155),e(76174)),A=(e(23465),e(17263)),l=(e(3726),e(73927),e(3761),e(81049),e(98877)),c=e.n(l),u=e(78857),g=function(t){return(0,u.Z)({url:"projectInfoApp/getCurrentProjectInfo",method:"get",isLoading:!0},t)},h=function(t){return(0,u.Z)({url:"api/user!newlogin.action",method:"post",isLoading:!0,params:t})},m=function(t){return(0,u.Z)({url:"api/localuser!register_username.action",method:"post",isLoading:!0,params:t})},p=function(t){return(0,u.Z)({url:"api/localuser!register.action",method:"get",isLoading:!0,params:t})},d=function(t){return(0,u.Z)({url:"api/user!login_idcode.action",method:"post",isLoading:!0,params:t})},C={getCurrentProjectInfo:g,zhanghaodenglu:h,zhanghaozhuce:m,shoujihaozhuce:p,shoujihaodenglu:d},v=C,f=e(14569),S=e(22204),I=e(68593),E={name:"LoginPage",data(){return{isShelves:!{NODE_ENV:"production",VUE_APP_ITEM_NAME:"EShop",VUE_APP_MAIN_COLOR:"#f89900",VUE_APP_FOOTER_COLOR:"#f89900",BASE_URL:"./"}.VUE_APP_PUT_ON_SHELVES,itemName:"EShop",TabShow:1,it:{input1:"",input2:""},show:!1,img1:e(38580),img2:e(31406),img3:e(75042),img4:e(5431),img5:e(41376),triangleDown:e(44499),pageDiaCode:!1,dialCode:localStorage.getItem("dialCode")||1}},components:{[A.Z.name]:A.Z,[r.Z.name]:r.Z,Vcode:c(),NationalityList:f.Z},created(){(0,S.bg)()&&"ldy"==this.$route.query.from&&(this.$notify(this.$t("您已登录"),"success"),this.$router.push({path:"/"}))},methods:{handleJump(){this.$router.push({path:"customerServiceIndex?path=customerService"})},TabClick(t){this.it={input1:"",input2:""},this.TabShow=t},post_form(){var t=this;if(1===this.TabShow){if(""===this.it.input1)return void(0,A.Z)(t.$t("请输入邮箱"));var i=/^([A-Za-z0-9_\-\.\w{3,}])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;if(!i.test(this.it.input1))return void(0,A.Z)(t.$t("邮箱格式有误"))}""!==this.it.input2?"Hive"==this.itemName?this.loginSubmit():this.show=!0:(0,A.Z)(t.$t("请输入密码"))},onSuccess(){this.loginSubmit(),this.show=!1},onFail(){I.log("失败回调")},loginSubmit(){var t,i,e,s=this,n={password:null===(t=encodeURIComponent(this.it.input2))||void 0===t?void 0:t.trim()};n.username=1===this.TabShow?null===(i=this.it.input1)||void 0===i?void 0:i.trim():"".concat(this.dialCode," ").concat(null===(e=this.it.input1)||void 0===e?void 0:e.trim()),A.Z.loading({duration:0,message:this.$t("提交中"),forbidClick:!0}),v.zhanghaodenglu(n).then(function(){var t=(0,o.Z)((0,a.Z)().mark((function t(i){var e;return(0,a.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return A.Z.clear(),s.$notify(s.$t("登录成功"),"success"),localStorage.setItem("token",i.token),e=s.dayjs.tz.guess(),localStorage.setItem("timeZone",e),t.next=7,s.$store.dispatch("getUserInfo");case 7:if("ldy"!=s.$route.query.from){t.next=10;break}return s.$router.push({path:"/"}),t.abrupt("return");case 10:try{"/register"==sessionStorage.getItem("upperLevel")?s.$router.push({path:"/"}):s.$router.go(-1)}catch(n){s.$router.push({path:"/"})}case 11:case"end":return t.stop()}}),t)})));return function(i){return t.apply(this,arguments)}}()).catch((function(t){A.Z.clear()}))},getName(t){this.pageDiaCode?(this.dialCode=t[2],localStorage.setItem("dialCode",this.dialCode)):this.pageDiaCode=!0},openNational(){this.$refs.controlChild.open()},onClickLeft(){this.$router.push("/")}}},B=E,Z=e(48703),N=(0,Z.Z)(B,s,n,!1,null,"962bd2cc",null),w=N.exports},62533:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAA3CAYAAAClxaIBAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAANFSURBVHgB7ZnRcdswDIbhXN/rbqARtEHVCeoN4g3iTiB3gmQDZwMnEygbOJ2A3sDe4C9xolsFIiWSIl275++Ol4sMEQAJghQ4o4wAKPSfuWlHbrPZbE+JmVEitMFsaKnbd90WuhUD4m+6vev2qp16o38Nj7Zuj7odEIfS7cHM2tmNnxvjU6F0qymCqHDSyir9Z0ttrLvYdxrR37VRerz3Lcfa+QOP1sBoNrqtxkJD/14aOeXoh0PznnIAd/g0ZnZi+lwMOBMVXkPKatjjuKIE6H7WDkdWlAKHAzt4ZBS0CYAz2NxDtoB9ViqagunY5sCc3EbXaENMpt2Deb50DYDDEQWPQRhywqtDo3yLMOqBvuQAPFIMZsTkSBYWuXtM2+xsfS4sshWFgv4srCwyNaZzsBmonz0LuYZCQH8WlEXmAelgR0rR/xz9Ga7IF7QLsMtS/F4gPQpijaCfete+DkgDlYeTqVgLPeWYLdIwnj4OI7kzb4RchXxw+MxHBozDmBd+IR2oBzpeCNkN8rIS+p4ccgqnMxb6i1giF5xCXl6EvsWQsGu6+kLuGM3BQegcTCJ3Rq4gN3vxf/z270+Qjju6UNBZtGMfSBfrRMiXXYwTe8rPMUQ42AkzQkFKIngPET45EWpUkJIIXkOE7zxesmWKn5SXF8uzt8E30B431EAqrizv7JCHjcNG3p9s3yy7rhBvKM/GOIWPTjWWTnOcnxQGvts7Np7s4xOue0+xGLmVCuCuUMSyoNSgf/A6GGfWJ4fQ//qKZU25gPsEeejITJkRHpgl5QbtKVcJ5UrIVAg/3TY4dzXcGLoyI186ZPjYvIW7+sHPeXYrSkSySxYbxtFT9sh2U3TjRkJG1wTaHZE3oa/kvuXheOdD4Q8d896HSZOZ+JhROET2NPWCEm1pJKTG6l1mhLuM74Jll779nxQ0iMPrUmRC/+PVcYSPkMRaORc6akxjM+bEBtNpRgYpBSuXgrEi2mQlSFd4s8840lf2lp2++cNrg7Q8cd+zjhJOnztKD6dITrtjl/Ax8DHmy6fOg4ryUFI+eHbLbsmmoOvkgxPnqLFm4WLLmCHcnLgU/jsn9nSdHLv7BO9+nKE+0/XwS292L78BGJueWkYnT3cAAAAASUVORK5CYII="},44499:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAATCAYAAACDW21BAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAD3SURBVHgB3ZI9DoJAEEZn4QJaQucNNITE0tLWI3gC4xHsLD2Ona0F4B6BCryCBeBMgdkM2WWRxcKXwA6zP182PIB/R9AriqILDgf4AaItMPSGwwamRXptVVXVvmmaHCaCzsaMnVCbcRwv67qmm87AMRi2kFLmvtosiuIZBMFLCLEFh+B5xyzLrlT7fLIsy3sYhnMs1+AADDslSXL+fOsWOpJIpmm6UhuebuVYiVpJeF+YNo2RqJWE933Tpm8lUiUZFEgMlYhL0pkHSywl6kjC8cCSPol0knCsb0iYJNJJwun9hyo6iUySjAokuER9kjiDJMLnAQN5AwgPjbeTqmD3AAAAAElFTkSuQmCC"},21652:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASkSURBVHgB7Vg7chs5EAWpT2223FKyVQo8zjYTqU+VMmNvIJ9A4xMslW1G6gSSTrBStKl8Ao8zVenj0Ql2nCielRS49PVrqzF6A2JmSNrlcuCuYhFoNBsPD2igm8b8lK+TlplSVldX7cPDw1Kr1bKPj49dfHeg7uhwDl0GXYp2Mjc39/7o6CgzU8hEAK21ncvLy01MvCFdM5kk+Oydnp4eTvKjsQEuLy/HALZjnlmaSsBsOj8//3pcRmeaDIS1hYWFfwHub3R/oYly6I7QjEjXh+4Tmn+oKsenZIPx33E0+ouLi62Li4vENEi7bnB9fT26urr6gOYGA8NniEle4vuA9NnZ2dne/f39G3LRgV0Mndjus2/0BysrK/+YaQEKuNvb23emzNCuAAOQ7TRNhcFNN4b2UL5Fb57Om9PH0An4Nwo0pWligHxnJgXogxPWxBkm2VIAptvtylm07jeY/D0t5IAAFjYKtCc7QNPZOiaDAAFuwODA2p+IvgO2mZmZsdRNZHLXgT1HqtXFFCI74IGMEYR9Mw5AiVb5geuDgT4mT307TLBE7dK4sCxnklSR/3sFuUvzDGTnGgGKIU286zNHdt3CSbudBMYLHdheCvkA09u0kI7uXDVAZS9ScJk4MBWC8ci1cf7ywHhG7W7IhzCNxXHUxz6LJYDMnkSlC4iQMIMAcB4w+Ui2lZf7yclJYijqb25uNoMA19bWZMJIuzlYeVvl1Dv0eWghYCZz7SoGnWAB29TuBwEC0CtyeFjHnqHnTq+gEbm7u8tC9iFRFp2fDgh4Pt/mGbmldlLncHZ2NiLbrMIsJ5tx3u/iauKgKgB6h/7cfKV4O9AIkK8qPhLMYET2mfn+8r9rMOOzZFAoccD/wpVT5ajEtrRhOzAN0mTjERSFALLx0Iwp6rjRfhKfLHwP5ubHkcw1Cga1hnCH89B/X1mUtdj9Dl/7FXZD8j80NaK3iCWfZYBa4HTVIJHks8qZXOqSiGo3l4fft8FVFuG6GLoJQzYsSLmsayMGCnL4mkkJ7EadMzzqjVcIKrnSa2NqxM8tccmfjwAEI5y1jORwnvAlHIUMsOAO2dQCBGNcUqScWxYA/VRdrpoqh2pbTNrr9V74NlhwRN1agF6SsstjfjZTerRDCaQTL536LWDygsYrA85P8bh0GAHopT6SQFbWChpUT07a7VeBcUvjQYBCALMH2eftHQGozraoa/EXx44JiBdUoXQqcg0c+o/+oNTbXmEWjPQRgMfHxymMtwhIHyCHZnQh52RjeUyPRqTd3K9pBNz19XWppJXCzAQkWNVhJXJQuSgf+EyCFZn0y+GXSOZAQVZsyTQxHngBxxmLkOBvbS1AERRLMTsXJ7hM/9PM20Uyb3NMbU7bizwPi+xjWz944IZ1j0Ljn0eIsh0/DZdJoROnv0r2rTopE14ime1CV/xbgKPQk2xdfUTsRBZdB24sgAqyr9HmX96ZN+m+eXoRWJf7v9OK8XWo3p4KoIi8rWBjwFs5qWj9Iv/v7DXUPGZigE4cUDRt1TMXkESOgjyn4wIz0wJkkeoLYOXALylY2covz6BuY4b220lB/ZRvKZ8B+KKyax+GEToAAAAASUVORK5CYII="}}]);