"use strict";(self["webpackChunkshop"]=self["webpackChunkshop"]||[]).push([[457],{28602:function(t,a,e){e.r(a),e.d(a,{default:function(){return u}});var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"page-content"},[t.previewImages.length?a("van-image-preview",{attrs:{images:t.previewImages},model:{value:t.previewShow,callback:function(a){t.previewShow=a},expression:"previewShow"}}):t._e(),a("van-nav-bar",{attrs:{"safe-area-inset-top":"",fixed:"",title:t.$t("充值详情"),"left-arrow":""},on:{"click-left":t.onClickLeft}}),a("div",{staticClass:"h46",staticStyle:{width:"100%"}}),t.pageDone&&t.dataInfo?a("div",{staticClass:"info-content"},[a("div",{staticClass:"order-info-content"},[a("div",{staticClass:"item"},[a("p",[t._v(t._s(t.$t("订单号"))+"：")]),a("div",{staticClass:"copy",on:{click:function(a){return t.copyData(t.dataInfo.order_no)}}},[a("span",{staticStyle:{"text-align":"end"}},[t._v(t._s(t.dataInfo.order_no))]),a("img",{attrs:{src:e(78481)}})])]),a("div",{staticClass:"item"},[a("p",[t._v(t._s(t.$t("创建时间"))+"：")]),a("div",[t._v(t._s(t.dataInfo.create_time))])]),a("div",{staticClass:"item"},[a("p",[t._v(t._s(t.$t("充值数量"))+"：")]),a("div",{staticClass:"money"},[t._v(t._s(t.dataInfo.volume>1?t.priceFormat(t.dataInfo.volume):t.dataInfo.volume)+" "+t._s(t.dataInfo.coin))])]),a("div",{staticClass:"item"},[a("p",[t._v(t._s(t.$t("实际到账"))+"：")]),t.priceFormat(t.dataInfo.amount)?a("div",{staticClass:"money"},[t._v(t._s(t.priceFormat(t.dataInfo.amount))+" USDT")]):a("div",{staticClass:"money"},[t._v("--")])]),a("div",{staticClass:"item"},[a("p",[t._v(t._s(t.$t("订单状态"))+"：")]),a("div",{staticClass:"money",class:t.dataInfo.className},[t._v(t._s(t.dataInfo.stateStr))])]),2==t.dataInfo.state?a("div",{staticClass:"item"},[a("p",[t._v(t._s(t.$t("失败原因"))+"：")]),a("div",{staticClass:"money",class:t.dataInfo.className},[t._v(t._s(t.dataInfo.failureMsg||"--"))])]):t._e(),t.dataInfo.coin_blockchain?a("div",{staticClass:"item"},[a("p",[t._v(t._s(t.$t("币种协议"))+"：")]),a("div",[t._v(t._s(t.dataInfo.coin_blockchain))])]):t._e(),t.dataInfo.channel_address?a("div",{staticClass:"item no-border"},[a("p",[t._v(t._s(t.$t("收款地址"))+"：")]),a("div",{staticClass:"copy",on:{click:function(a){return t.copyData(t.dataInfo.channel_address)}}},[a("span",[t._v(t._s(t.dataInfo.channel_address))]),a("img",{attrs:{src:e(78481)}})])]):t._e(),t.codeImgUrl?a("div",{staticClass:"item code-img"},[a("div",{staticClass:"code-img-content"},[a("canvas",{staticStyle:{display:"none"},attrs:{id:"canvas"}}),a("img",{staticClass:"canvas",attrs:{src:t.codeImgUrl}})]),a("div",{staticClass:"btn"},[a("div",{on:{click:t.saveCodeImg}},[t._v(t._s(t.$t("保存二维码")))])])]):t._e(),t.dataInfo.img?a("div",{staticClass:"item center"},[a("p",[t._v(t._s(t.$t("支付凭证"))+"：")]),a("div",{staticClass:"copy"},[a("div",{staticClass:"img-content",on:{click:function(a){t.previewShow=!0}}},[a("img",{attrs:{src:t.dataInfo.img,alt:""}})])])]):t._e()]),"Shop2u"==t.itemName&&0==t.dataInfo.state&&t.dataInfo.payUrl?a("van-button",{staticClass:"pay_btn",attrs:{block:"",type:"primary"},on:{click:function(a){return t.toPay(t.dataInfo.payUrl)}}},[t._v(" "+t._s(t.$t("立即支付"))+" ")]):t._e()],1):t._e()],1)},n=[],i=(e(54735),e(76471)),o=(e(37850),e(88848)),c=(e(83627),e(90797)),r=(e(60228),e(14970)),d=e(10408),l=e(38385),m=e(15941),v={name:"rechargeRecordDetails",components:{[c.Z.name]:c.Z,[o.Z.name]:o.Z,[i.Z.Component.name]:i.Z.Component},data(){return{itemName:"EShop",pageDone:!1,orderNo:null,dataInfo:null,previewShow:!1,previewImages:[],codeImgUrl:"",priceFormat:d.XY}},mounted(){var t=this;this.$nextTick((function(){var a=t.$route.query,e=a.order_no,s=a.failure_msg;e?(t.orderNo=e,t.failureMsg=s,t.getDataInfo()):(0,o.Z)(t.$t("订单号不存在"))}))},methods:{onClickLeft(){this.$router.go(-1)},copyData(t){var a=this;this.$copyText(t).then((function(){(0,o.Z)(a.$t("复制成功"))}),(function(){(0,o.Z)(a.$t("复制失败"))}))},getDataInfo(){var t=this;o.Z.loading({duration:0,message:this.$t("请求中")}),(0,r.NM)({order_no:this.orderNo}).then((function(a){a.stateStr="",a.className="",0===a.state&&(a.stateStr=t.$t("处理中")),1===a.state&&(a.className="success",a.stateStr=t.$t("成功")),2===a.state&&(a.className="fail",a.stateStr=t.$t("失败")),a.img&&(t.previewImages=[a.img]),t.dataInfo=a,t.pageDone=!0,o.Z.clear(),t.$nextTick((function(){t.createCodeImg(a.from)}))})).catch((function(t){o.Z.clear()}))},createCodeImg(t){var a=this,e=document.getElementById("canvas");l.toCanvas(e,t,{width:124,height:124,margin:0},(function(t){t||(a.codeImgUrl=e.toDataURL("image/png"))}))},saveCodeImg(){var t=document.getElementsByTagName("canvas");this.imgUrl=t[0].toDataURL("image/png"),this.getUrlBase64(this.imgUrl).then((function(t){var a=document.createElement("a");a.href=t,a.download="qrCode.png",a.click()}))},getUrlBase64(t){return new Promise((function(a){var e=document.createElement("canvas"),s=e.getContext("2d"),n=new Image;n.crossOrigin="Anonymous",n.src=t,n.onload=function(){e.height=300,e.width=300,s.drawImage(n,0,0,300,300);var t=e.toDataURL("image/png");e=null,a(t)}}))},getImgUrlHandle(t){return m.log("path ::->",t),(0,d.wD)(t)},toPay(t){window.open(t)}}},g=v,f=e(1001),p=(0,f.Z)(g,s,n,!1,null,"01fc2ec0",null),u=p.exports},54735:function(t,a,e){e(22184),e(74048),e(14106),e(4127),e(96073),e(44174),e(43874),e(45353),e(86051),e(57462)},78481:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADFSURBVHgB7ZftDcIgEIYP2kEcgcACdRK7iXWSOkLdwAUgdQMnAV9MMMaU9A8fMeFJLrTlx5MrOQ6YUspRRpxzF2PM9PudUyX68KC1ZpQQKeXEGDvH5utnnBpr7cI5f2JcqaR4BX6IzW+KsT4j1udEGYllfEAMVEEcWFCHN0oI/uS8K4b0geK/UkKwYb3F1cqpiZu4iZv4j8VCiBExUCE+4q7rZkTWHvyN70738OK7ERWix+nySBVo5VSMzdvD3i0gBdUyfgGy/zMdqB3d+wAAAABJRU5ErkJggg=="}}]);