{"ast":null,"code":"import \"core-js/modules/es.array.map.js\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createPopper as _createPopper, offsetModifier } from '@vant/popperjs';\nimport { createNamespace } from '../utils';\nimport { BORDER_BOTTOM } from '../utils/constant'; // Mixins\n\nimport { ClickOutsideMixin } from '../mixins/click-outside'; // Components\n\nimport Icon from '../icon';\nimport Popup from '../popup';\nvar _createNamespace = createNamespace('popover'),\n  createComponent = _createNamespace[0],\n  bem = _createNamespace[1];\nexport default createComponent({\n  mixins: [ClickOutsideMixin({\n    event: 'touchstart',\n    method: 'onClickOutside'\n  })],\n  props: {\n    value: Boolean,\n    trigger: String,\n    overlay: Boolean,\n    offset: {\n      type: Array,\n      default: function _default() {\n        return [0, 8];\n      }\n    },\n    theme: {\n      type: String,\n      default: 'light'\n    },\n    actions: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    placement: {\n      type: String,\n      default: 'bottom'\n    },\n    getContainer: {\n      type: [String, Function],\n      default: 'body'\n    },\n    closeOnClickAction: {\n      type: Boolean,\n      default: true\n    }\n  },\n  watch: {\n    value: 'updateLocation',\n    placement: 'updateLocation'\n  },\n  mounted: function mounted() {\n    this.updateLocation();\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (this.popper) {\n      this.popper.destroy();\n      this.popper = null;\n    }\n  },\n  methods: {\n    createPopper: function createPopper() {\n      return _createPopper(this.$refs.wrapper, this.$refs.popover.$el, {\n        placement: this.placement,\n        modifiers: [{\n          name: 'computeStyles',\n          options: {\n            adaptive: false,\n            gpuAcceleration: false\n          }\n        }, _extends({}, offsetModifier, {\n          options: {\n            offset: this.offset\n          }\n        })]\n      });\n    },\n    updateLocation: function updateLocation() {\n      var _this = this;\n      this.$nextTick(function () {\n        if (!_this.value) {\n          return;\n        }\n        if (!_this.popper) {\n          _this.popper = _this.createPopper();\n        } else {\n          _this.popper.setOptions({\n            placement: _this.placement\n          });\n        }\n      });\n    },\n    renderAction: function renderAction(action, index) {\n      var _this2 = this;\n      var h = this.$createElement;\n      var icon = action.icon,\n        text = action.text,\n        disabled = action.disabled,\n        className = action.className;\n      return h(\"div\", {\n        \"attrs\": {\n          \"role\": \"menuitem\"\n        },\n        \"class\": [bem('action', {\n          disabled: disabled,\n          'with-icon': icon\n        }), className],\n        \"on\": {\n          \"click\": function click() {\n            return _this2.onClickAction(action, index);\n          }\n        }\n      }, [icon && h(Icon, {\n        \"attrs\": {\n          \"name\": icon\n        },\n        \"class\": bem('action-icon')\n      }), h(\"div\", {\n        \"class\": [bem('action-text'), BORDER_BOTTOM]\n      }, [text])]);\n    },\n    onToggle: function onToggle(value) {\n      this.$emit('input', value);\n    },\n    onClickWrapper: function onClickWrapper() {\n      if (this.trigger === 'click') {\n        this.onToggle(!this.value);\n      }\n    },\n    onTouchstart: function onTouchstart(event) {\n      event.stopPropagation();\n      this.$emit('touchstart', event);\n    },\n    onClickAction: function onClickAction(action, index) {\n      if (action.disabled) {\n        return;\n      }\n      this.$emit('select', action, index);\n      if (this.closeOnClickAction) {\n        this.$emit('input', false);\n      }\n    },\n    onClickOutside: function onClickOutside() {\n      this.$emit('input', false);\n    },\n    onOpen: function onOpen() {\n      this.$emit('open');\n    },\n    /* istanbul ignore next */\n    onOpened: function onOpened() {\n      this.$emit('opened');\n    },\n    onClose: function onClose() {\n      this.$emit('close');\n    },\n    /* istanbul ignore next */\n    onClosed: function onClosed() {\n      this.$emit('closed');\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"span\", {\n      \"ref\": \"wrapper\",\n      \"class\": bem('wrapper'),\n      \"on\": {\n        \"click\": this.onClickWrapper\n      }\n    }, [h(Popup, {\n      \"ref\": \"popover\",\n      \"attrs\": {\n        \"value\": this.value,\n        \"overlay\": this.overlay,\n        \"position\": null,\n        \"transition\": \"van-popover-zoom\",\n        \"lockScroll\": false,\n        \"getContainer\": this.getContainer\n      },\n      \"class\": bem([this.theme]),\n      \"on\": {\n        \"open\": this.onOpen,\n        \"close\": this.onClose,\n        \"input\": this.onToggle,\n        \"opened\": this.onOpened,\n        \"closed\": this.onClosed\n      },\n      \"nativeOn\": {\n        \"touchstart\": this.onTouchstart\n      }\n    }, [h(\"div\", {\n      \"class\": bem('arrow')\n    }), h(\"div\", {\n      \"class\": bem('content'),\n      \"attrs\": {\n        \"role\": \"menu\"\n      }\n    }, [this.slots('default') || this.actions.map(this.renderAction)])]), this.slots('reference')]);\n  }\n});","map":{"version":3,"names":["_extends","createPopper","_createPopper","offsetModifier","createNamespace","BORDER_BOTTOM","ClickOutsideMixin","Icon","Popup","_createNamespace","createComponent","bem","mixins","event","method","props","value","Boolean","trigger","String","overlay","offset","type","Array","default","_default","theme","actions","placement","getContainer","Function","closeOnClickAction","watch","mounted","updateLocation","beforeDestroy","popper","destroy","methods","$refs","wrapper","popover","$el","modifiers","name","options","adaptive","gpuAcceleration","_this","$nextTick","setOptions","renderAction","action","index","_this2","h","$createElement","icon","text","disabled","className","click","onClickAction","onToggle","$emit","onClickWrapper","onTouchstart","stopPropagation","onClickOutside","onOpen","onOpened","onClose","onClosed","render","arguments","slots","map"],"sources":["/Users/neo/Desktop/node/liuxue/app-h5/node_modules/vant/es/popover/index.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { createPopper as _createPopper, offsetModifier } from '@vant/popperjs';\nimport { createNamespace } from '../utils';\nimport { BORDER_BOTTOM } from '../utils/constant'; // Mixins\n\nimport { ClickOutsideMixin } from '../mixins/click-outside'; // Components\n\nimport Icon from '../icon';\nimport Popup from '../popup';\n\nvar _createNamespace = createNamespace('popover'),\n    createComponent = _createNamespace[0],\n    bem = _createNamespace[1];\n\nexport default createComponent({\n  mixins: [ClickOutsideMixin({\n    event: 'touchstart',\n    method: 'onClickOutside'\n  })],\n  props: {\n    value: Boolean,\n    trigger: String,\n    overlay: Boolean,\n    offset: {\n      type: Array,\n      default: function _default() {\n        return [0, 8];\n      }\n    },\n    theme: {\n      type: String,\n      default: 'light'\n    },\n    actions: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    placement: {\n      type: String,\n      default: 'bottom'\n    },\n    getContainer: {\n      type: [String, Function],\n      default: 'body'\n    },\n    closeOnClickAction: {\n      type: Boolean,\n      default: true\n    }\n  },\n  watch: {\n    value: 'updateLocation',\n    placement: 'updateLocation'\n  },\n  mounted: function mounted() {\n    this.updateLocation();\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (this.popper) {\n      this.popper.destroy();\n      this.popper = null;\n    }\n  },\n  methods: {\n    createPopper: function createPopper() {\n      return _createPopper(this.$refs.wrapper, this.$refs.popover.$el, {\n        placement: this.placement,\n        modifiers: [{\n          name: 'computeStyles',\n          options: {\n            adaptive: false,\n            gpuAcceleration: false\n          }\n        }, _extends({}, offsetModifier, {\n          options: {\n            offset: this.offset\n          }\n        })]\n      });\n    },\n    updateLocation: function updateLocation() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        if (!_this.value) {\n          return;\n        }\n\n        if (!_this.popper) {\n          _this.popper = _this.createPopper();\n        } else {\n          _this.popper.setOptions({\n            placement: _this.placement\n          });\n        }\n      });\n    },\n    renderAction: function renderAction(action, index) {\n      var _this2 = this;\n\n      var h = this.$createElement;\n      var icon = action.icon,\n          text = action.text,\n          disabled = action.disabled,\n          className = action.className;\n      return h(\"div\", {\n        \"attrs\": {\n          \"role\": \"menuitem\"\n        },\n        \"class\": [bem('action', {\n          disabled: disabled,\n          'with-icon': icon\n        }), className],\n        \"on\": {\n          \"click\": function click() {\n            return _this2.onClickAction(action, index);\n          }\n        }\n      }, [icon && h(Icon, {\n        \"attrs\": {\n          \"name\": icon\n        },\n        \"class\": bem('action-icon')\n      }), h(\"div\", {\n        \"class\": [bem('action-text'), BORDER_BOTTOM]\n      }, [text])]);\n    },\n    onToggle: function onToggle(value) {\n      this.$emit('input', value);\n    },\n    onClickWrapper: function onClickWrapper() {\n      if (this.trigger === 'click') {\n        this.onToggle(!this.value);\n      }\n    },\n    onTouchstart: function onTouchstart(event) {\n      event.stopPropagation();\n      this.$emit('touchstart', event);\n    },\n    onClickAction: function onClickAction(action, index) {\n      if (action.disabled) {\n        return;\n      }\n\n      this.$emit('select', action, index);\n\n      if (this.closeOnClickAction) {\n        this.$emit('input', false);\n      }\n    },\n    onClickOutside: function onClickOutside() {\n      this.$emit('input', false);\n    },\n    onOpen: function onOpen() {\n      this.$emit('open');\n    },\n\n    /* istanbul ignore next */\n    onOpened: function onOpened() {\n      this.$emit('opened');\n    },\n    onClose: function onClose() {\n      this.$emit('close');\n    },\n\n    /* istanbul ignore next */\n    onClosed: function onClosed() {\n      this.$emit('closed');\n    }\n  },\n  render: function render() {\n    var h = arguments[0];\n    return h(\"span\", {\n      \"ref\": \"wrapper\",\n      \"class\": bem('wrapper'),\n      \"on\": {\n        \"click\": this.onClickWrapper\n      }\n    }, [h(Popup, {\n      \"ref\": \"popover\",\n      \"attrs\": {\n        \"value\": this.value,\n        \"overlay\": this.overlay,\n        \"position\": null,\n        \"transition\": \"van-popover-zoom\",\n        \"lockScroll\": false,\n        \"getContainer\": this.getContainer\n      },\n      \"class\": bem([this.theme]),\n      \"on\": {\n        \"open\": this.onOpen,\n        \"close\": this.onClose,\n        \"input\": this.onToggle,\n        \"opened\": this.onOpened,\n        \"closed\": this.onClosed\n      },\n      \"nativeOn\": {\n        \"touchstart\": this.onTouchstart\n      }\n    }, [h(\"div\", {\n      \"class\": bem('arrow')\n    }), h(\"div\", {\n      \"class\": bem('content'),\n      \"attrs\": {\n        \"role\": \"menu\"\n      }\n    }, [this.slots('default') || this.actions.map(this.renderAction)])]), this.slots('reference')]);\n  }\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}