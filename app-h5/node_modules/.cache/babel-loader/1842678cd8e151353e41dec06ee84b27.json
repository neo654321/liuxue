{"ast":null,"code":"import _objectSpread from \"/Users/neo/Desktop/liuxue/app-h5/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"vant/es/toast/style\";\nimport _Toast from \"vant/es/toast\";\nimport \"vant/es/nav-bar/style\";\nimport _NavBar from \"vant/es/nav-bar\";\nimport { priceFormat } from '@/utils/utis';\nimport { orderReturns } from '@/API/user';\nexport default {\n  name: 'OrderRefund',\n  components: {\n    [_NavBar.name]: _NavBar,\n    [_Toast.name]: _Toast\n  },\n  data() {\n    return {\n      optionsData: [{\n        value: '1',\n        label: this.$t('未收到货')\n      }, {\n        value: '2',\n        label: this.$t('不喜欢，不想要')\n      }, {\n        value: '3',\n        label: this.$t('卖家发错货')\n      }, {\n        value: '4',\n        label: this.$t('假冒品牌')\n      }, {\n        value: '5',\n        label: this.$t('少发、漏发')\n      }, {\n        value: '6',\n        label: this.$t('收到商品破损')\n      }, {\n        value: '7',\n        label: this.$t('存在质量问题')\n      }, {\n        value: '8',\n        label: this.$t('与商家协商一致退款')\n      }, {\n        value: '9',\n        label: this.$t('其他原因')\n      }],\n      orderId: null,\n      priceFormat,\n      formData: {\n        returnReason: '',\n        money: 0,\n        returnDetail: ''\n      }\n    };\n  },\n  mounted() {\n    var _this = this;\n    this.$nextTick(function () {\n      var _this$$route$query = _this.$route.query,\n        id = _this$$route$query.id,\n        a = _this$$route$query.a;\n      if (id && (a || a === 0)) {\n        _this.orderId = id;\n        _this.formData.money = _this.priceFormat(a);\n      } else {\n        _Toast(_this.$t('订单号不存在'));\n        setTimeout(function () {\n          _this.$router.back();\n        }, 1500);\n      }\n    });\n  },\n  methods: {\n    submitHandle() {\n      var _this2 = this;\n      if (this.formData.returnReason === '') {\n        _Toast(this.$t('请选择') + this.$t('退款理由'));\n        return false;\n      }\n      //   if (this.formData.returnDetail === ''){\n      //     Toast(this.$t('请输入') + this.$t('退款说明'));\n      //     return false\n      //   }\n\n      _Toast.loading({\n        duration: 0,\n        message: this.$t('提交中'),\n        forbidClick: true\n      });\n      var params = _objectSpread({\n        orderId: this.orderId\n      }, this.formData);\n      orderReturns(params).then(function () {\n        _Toast(_this2.$t('提交成功'));\n        setTimeout(function () {\n          _this2.$router.back();\n        }, 1500);\n      }).catch(function () {\n        _Toast.clear();\n      });\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module"}