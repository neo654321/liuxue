{"ast":null,"code":"import _objectSpread from \"/Users/neo/Desktop/liuxue/app-h5/node_modules/.pnpm/@babel+runtime@7.20.7/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"vant/es/popover/style\";\nimport _Popover from \"vant/es/popover\";\nimport \"vant/es/collapse-item/style\";\nimport _CollapseItem from \"vant/es/collapse-item\";\nimport \"vant/es/collapse/style\";\nimport _Collapse from \"vant/es/collapse\";\nimport \"vant/es/action-sheet/style\";\nimport _ActionSheet from \"vant/es/action-sheet\";\nimport \"vant/es/dialog/style\";\nimport _Dialog from \"vant/es/dialog\";\nimport \"vant/es/toast/style\";\nimport _Toast from \"vant/es/toast\";\nimport \"vant/es/icon/style\";\nimport _Icon from \"vant/es/icon\";\nimport \"vant/es/popup/style\";\nimport _Popup from \"vant/es/popup\";\nimport \"vant/es/list/style\";\nimport _List from \"vant/es/list\";\nimport \"vant/es/pull-refresh/style\";\nimport _PullRefresh from \"vant/es/pull-refresh\";\nimport \"vant/es/loading/style\";\nimport _loading from \"vant/es/loading\";\nimport \"vant/es/image/style\";\nimport _Image from \"vant/es/image\";\nimport \"vant/es/swipe-item/style\";\nimport _SwipeItem from \"vant/es/swipe-item\";\nimport \"vant/es/swipe/style\";\nimport _Swipe from \"vant/es/swipe\";\nimport \"vant/es/skeleton/style\";\nimport _Skeleton from \"vant/es/skeleton\";\nimport \"vant/es/empty/style\";\nimport _Empty from \"vant/es/empty\";\nimport \"vant/es/tabs/style\";\nimport _Tabs from \"vant/es/tabs\";\nimport \"vant/es/tab/style\";\nimport _Tab from \"vant/es/tab\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.unshift.js\";\nimport \"core-js/modules/es.date.to-json.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport { apiGetCategory, apiCategoryTree } from \"@/API/home\";\nimport { getSellerInfo } from \"@/API/commodity\";\nimport { sellerGoodsList, focusSeller, focusSellerDel, apiSellerTree } from \"@/API/shop\";\nimport { isLogin, priceFormat, getStorage } from \"@/utils/utis\";\nimport GoodInfo from \"@/page/shop/goodInfo.vue\";\nexport default {\n  name: \"shop\",\n  data() {\n    return {\n      showPopover: false,\n      actions123: [{\n        text: this.$t('投诉')\n      }],\n      nq: \"\",\n      activeName: \"\",\n      tab_index: 0,\n      highLow: 1,\n      autoplayTime: 3000,\n      secondaryCategoryId: \"\",\n      tab_nav_list: [this.$t(\"推荐\"), this.$t(\"商品\")],\n      filter_list: [this.$t(\"综合\"), this.$t(\"销量\"), this.$t(\"价格\"), this.$t(\"新品\")],\n      banner: [],\n      loading: false,\n      finished: false,\n      refreshing: false,\n      isLeftShow: false,\n      show: false,\n      popupHeight: 0,\n      filterIndex: 0,\n      searchIcon: require(\"@/assets/image/index/sousuo.png\"),\n      shopBg: require('@/assets/image/shop/bg.png'),\n      SellerInfo: {},\n      list: [],\n      page_no: 0,\n      categoryList: [],\n      categoryId: \"\",\n      isPrice: 0,\n      newTime: 0,\n      collectTitle: \"收藏\",\n      isHot: 0,\n      actions: [],\n      isRec: 0,\n      active1: 0,\n      active2: 0,\n      active3: 0,\n      actions1: [{\n        name: this.$t(\"价格由高到低\"),\n        value: 1\n      }, {\n        name: this.$t(\"价格由低到高\"),\n        value: 2\n      }],\n      actions2: [{\n        name: this.$t(\"销售量由高到低\"),\n        value: 1\n      }, {\n        name: this.$t(\"销售量由低到高\"),\n        value: 2\n      }],\n      actions3: [{\n        name: this.$t(\"时间由远到近\"),\n        value: 1\n      }, {\n        name: this.$t(\"时间由近到远\"),\n        value: 2\n      }],\n      shopLoading: {\n        banner: false,\n        avatar: false,\n        list: false\n      },\n      itemName: process.env.VUE_APP_ITEM_NAME\n    };\n  },\n  components: {\n    [_Tab.name]: _Tab,\n    [_Tabs.name]: _Tabs,\n    [_Empty.name]: _Empty,\n    [_Skeleton.name]: _Skeleton,\n    [_Swipe.name]: _Swipe,\n    [_SwipeItem.name]: _SwipeItem,\n    [_Image.name]: _Image,\n    [_loading.name]: _loading,\n    [_PullRefresh.name]: _PullRefresh,\n    [_List.name]: _List,\n    [_Popup.name]: _Popup,\n    [_Icon.name]: _Icon,\n    [_Toast.name]: _Toast,\n    [_Dialog.Component.name]: _Dialog.Component,\n    [_ActionSheet.name]: _ActionSheet,\n    [_Collapse.name]: _Collapse,\n    [_CollapseItem.name]: _CollapseItem,\n    [_Popover.name]: _Popover,\n    GoodInfo\n  },\n  computed: {\n    langIsAr() {\n      return localStorage.getItem('lang') == 'ar';\n    }\n  },\n  created() {\n    var _this$$route$query;\n    var lang = (_this$$route$query = this.$route.query) === null || _this$$route$query === void 0 ? void 0 : _this$$route$query.lang;\n    if (lang) {\n      switch (lang) {\n        case 'zh-CN':\n          lang = 'cn';\n          break;\n        case 'zh-TW':\n        case 'CN':\n          lang = 'tw';\n          break;\n        case 'en-US':\n          lang = 'en';\n          break;\n        default:\n          break;\n      }\n      sessionStorage.setItem('backPath', '/');\n      if (lang !== localStorage.getItem('lang')) {\n        localStorage.setItem('lang', lang);\n        location.reload();\n      }\n    }\n    if (this.$route.query.index) this.tab_index = +this.$route.query.index;\n    this.popupHeight = this.screenHight - 108;\n    this.getSellerInfo(this.$route.query.sellerId);\n    this.home_category();\n    var tempObj = JSON.parse(sessionStorage.getItem(\"shopState\"));\n    if (['Argos', 'ArgosShop'].includes(this.itemName)) {\n      this.filter_list = ['', this.$t('销量'), this.$t('价格'), ''];\n      this.selectIndex({}, 1, 2);\n    } else if (tempObj !== null && tempObj !== void 0 && tempObj.filterIndex) {\n      this.filterIndex = tempObj.filterIndex;\n      this.highLow = tempObj.highLow;\n      this.selectIndex({}, tempObj.filterIndex, tempObj.highLow);\n    } else {\n      this.onLoad();\n    }\n  },\n  beforeDestroy() {\n    document.body.style.overflow = 'auto';\n  },\n  mounted() {\n    document.body.style.overflow = 'hidden';\n  },\n  methods: {\n    handleSelect(action) {\n      this.$router.push('/complaint?sellerId=' + this.$route.query.sellerId);\n    },\n    getShopImage() {\n      var _this$SellerInfo;\n      switch ((_this$SellerInfo = this.SellerInfo) === null || _this$SellerInfo === void 0 ? void 0 : _this$SellerInfo.mallLevel) {\n        case \"A\":\n          return require('@/assets/level/a.png');\n          break;\n        case \"B\":\n          return require('@/assets/level/b.png');\n          break;\n        case \"C\":\n          return require('@/assets/level/c.png');\n          break;\n        case \"S\":\n          return require('@/assets/level/s.png');\n          break;\n        case \"O\":\n          return require('@/assets/level/s.png');\n          break;\n        case \"SS\":\n          return require('@/assets/level/s.png');\n          break;\n        case \"SSS\":\n          return require('@/assets/level/s.png');\n          break;\n        default:\n          return require('@/assets/level/a.png');\n          break;\n      }\n    },\n    priceFormat(num) {\n      return priceFormat(num);\n    },\n    getList() {\n      var _this = this;\n      this.page_no++;\n      var data = {\n        pageNum: this.page_no,\n        pageSize: 10,\n        sellerId: this.$route.query.sellerId,\n        isPrice: this.isPrice,\n        isNew: this.newTime,\n        isHot: this.isHot,\n        isRec: this.isRec\n      };\n      if (this.tab_index == 0) {\n        data.isRec = '1';\n      } else {\n        delete data.isRec;\n      }\n      if (this.categoryId && this.categoryId != \"-1\") {\n        data.categoryId = this.categoryId;\n      }\n      // if (this.isPrice == 1) {\n      //   data.isPrice = this.isPrice\n      // }\n      // if (this.newTime) {\n      //   data.newTime = this.newTime\n      // }\n      !data.categoryId && delete data.categoryId;\n      !data.isHot && delete data.isHot;\n      !data.isPrice && delete data.isPrice;\n      !data.newTime && delete data.newTime;\n      Object.keys(data).forEach(function (k) {\n        if (!data[k]) delete data[k];\n      });\n      sellerGoodsList(data).then(function (res) {\n        for (var i = 0; i < res.pageList.length; i++) {\n          _this.list.push(res.pageList[i]);\n        }\n        _this.loading = false;\n        if (res.pageList.length == 0) {\n          _this.finished = true;\n        }\n        _this.shopLoading.list = false;\n        var obj = {};\n        _this.list = _this.list.reduce(function (prev, cur) {\n          obj[cur.id] ? \"\" : obj[cur.id] = true && prev.push(cur);\n          return prev;\n        }, []);\n      });\n    },\n    //获取分类\n    home_category() {\n      var _this2 = this;\n      // apiGetCategory({ sellerId: this.$route.query.sellerId }).then((res) => {\n      //     this.categoryList = res\n      // });\n      apiSellerTree({\n        sellerId: this.$route.query.sellerId\n      }).then(function (res) {\n        _this2.categoryList = res;\n        _this2.categoryList.unshift({\n          name: _this2.$t(\"全部商品\"),\n          categoryId: \"-1\",\n          subList: []\n        });\n        // .filter(item => {\n        //     if (item.name && item.subList.length > 0) {\n        //         item.subList = item.subList.filter(subItem => subItem.name);\n        //     }\n        //     return item.name;\n        // });\n      });\n    },\n\n    selectCategory(item, sub) {\n      if (item.categoryId == '-1') {\n        this.refreshing = true;\n        this.page_no = 0;\n        this.categoryId = '-1';\n        this.secondaryCategoryId = '';\n        this.isLeftShow = false;\n        this.onLoad();\n        document.body.scrollTop = 0;\n        document.documentElement.scrollTop = 0;\n        return;\n      }\n      this.isLoading = true;\n      this.page_no = 0;\n      this.list = [];\n      this.categoryId = item === null || item === void 0 ? void 0 : item.categoryId;\n      if (sub) this.secondaryCategoryId = sub.categoryId;else this.secondaryCategoryId = '';\n      this.isLeftShow = false;\n      this.onLoad();\n      document.body.scrollTop = 0;\n      document.documentElement.scrollTop = 0;\n    },\n    //关注店铺\n    addFocusSeller() {\n      var _this$SellerInfo2,\n        _this3 = this;\n      if (!isLogin()) {\n        // Toast(this.$t(\"请先登录\"));\n        // Dialog.confirm({\n        //     title: this.$t(\"您还未登录\"),\n        //     message: this.$t(\"是否跳转到登录页面\"),\n        //     confirmButtonText: this.$t(\"确认\"),\n        //     cancelButtonText: this.$t(\"取消\"),\n        // }).then(() => {\n        //     this.$router.push(\"/login\");\n        // });\n        this.$notifyWarn(this.$t(\"请先登录\"));\n        this.$router.push(\"/login\");\n        return;\n      }\n      if (((_this$SellerInfo2 = this.SellerInfo) === null || _this$SellerInfo2 === void 0 ? void 0 : _this$SellerInfo2.isFocus) == 1) {\n        this.delFocusSeller();\n      } else {\n        var data = {\n          sellerId: this.$route.query.sellerId\n        };\n        focusSeller(data).then(function () {\n          _this3.collectTitle = \"已收藏\";\n          _this3.SellerInfo.isFocus = 1;\n          _Toast(_this3.$t(\"关注成功\"));\n        });\n      }\n    },\n    //取消关注\n    delFocusSeller() {\n      var _this4 = this;\n      var data = {\n        sellerId: this.$route.query.sellerId\n      };\n      focusSellerDel(data).then(function () {\n        _this4.SellerInfo.isFocus = 0;\n        _this4.collectTitle = \"收藏\";\n        _Toast(_this4.$t(\"取消成功\"));\n      });\n    },\n    onSelect(item) {\n      item.value = item.value === 1 ? 2 : 1;\n      if (this.filterIndex == 1) {\n        this.isPrice = 0;\n        this.isHot = item.value;\n        this.newTime = 0;\n      } else if (this.filterIndex == 2) {\n        this.isPrice = item.value;\n        this.isHot = 0;\n        this.newTime = 0;\n      } else {\n        this.isPrice = 0;\n        this.isHot = 0;\n        this.newTime = item.value;\n      }\n      this.page_no = 0;\n      this.list = [];\n      this.onLoad();\n      document.body.scrollTop = 0;\n      document.documentElement.scrollTop = 0;\n    },\n    onCancel() {\n      if (this.filterIndex == 1) {\n        this.actions1.map(function (info) {\n          info.color = \"\";\n        });\n        this.isPrice = 0;\n      } else if (this.filterIndex == 2) {\n        this.actions2.map(function (info) {\n          info.color = \"\";\n        });\n        this.isHot = 0;\n      } else {\n        this.actions3.map(function (info) {\n          info.color = \"\";\n        });\n        this.newTime = 0;\n      }\n      this.page_no = 0;\n      this.list = [];\n      this.onLoad();\n      document.body.scrollTop = 0;\n      document.documentElement.scrollTop = 0;\n    },\n    selectIndex(item, index, highLow) {\n      this.shopLoading.list = true;\n      if (!highLow) {\n        if (this.filterIndex === index) {\n          this.highLow = this.highLow === 2 ? 3 : this.highLow === 3 ? 2 : 2;\n        } else {\n          this.highLow = 2;\n        }\n      } else {\n        this.highLow = highLow;\n      }\n      this.filterIndex = index;\n      if (index == 1) {\n        this.actions = this.actions2;\n        this.onSelect({\n          value: this.highLow - 1\n        });\n      } else if (index == 2) {\n        this.actions = this.actions1;\n        this.onSelect({\n          value: this.highLow - 1\n        });\n      } else if (index == 3) {\n        this.actions = this.actions3;\n        this.onSelect({\n          value: this.highLow - 1\n        });\n      } else {\n        this.isPrice = 0;\n        this.newTime = '';\n        this.isPrice = 0;\n        this.newTime = 0;\n        this.isHot = 0;\n        this.page_no = 0;\n        this.list = [];\n        this.onLoad();\n        document.body.scrollTop = 0;\n        document.documentElement.scrollTop = 0;\n      }\n      this.filterIndex = index;\n      sessionStorage.setItem(\"shopState\", JSON.stringify({\n        filterIndex: this.filterIndex,\n        highLow: this.highLow\n      }));\n    },\n    onClickLeft() {\n      var backPath = sessionStorage.getItem(\"backPath\");\n      if (backPath) {\n        this.$router.replace('/');\n        sessionStorage.removeItem(\"backPath\");\n      } else {\n        this.$router.go(-1);\n      }\n    },\n    handleChange(index) {\n      this.isLeftShow = false;\n      this.$router.replace({\n        query: _objectSpread(_objectSpread({}, this.$route.query), {}, {\n          index\n        })\n      });\n      this.shopLoading.list = true;\n      this.list = [];\n      // if (index == this.tab_index) return;\n      // index == 0 ? (this.isRec = \"1\") : (this.isRec = \"0\");\n      this.tab_index = index;\n      this.categoryId = undefined;\n      this.isPrice = undefined;\n      this.newTime = 0;\n      this.filterIndex = 0;\n      this.page_no = 0;\n      var tempObj = JSON.parse(sessionStorage.getItem(\"shopState\"));\n      if (['Argos', 'ArgosShop'].includes(this.itemName)) {\n        this.filter_list = ['', this.$t('销量'), this.$t('价格'), ''];\n        this.selectIndex({}, 1, 2);\n      } else if (tempObj !== null && tempObj !== void 0 && tempObj.filterIndex) {\n        this.filterIndex = tempObj.filterIndex;\n        this.highLow = tempObj.highLow;\n        this.selectIndex({}, tempObj.filterIndex, tempObj.highLow);\n      } else {\n        this.onLoad();\n      }\n    },\n    // 商家详情\n    getSellerInfo(id) {\n      var _this5 = this;\n      var dataJson = {\n        sellerId: id\n      };\n      getSellerInfo(dataJson).then(function (res) {\n        var _this5$SellerInfo;\n        _this5.SellerInfo = res;\n        _this5.collectTitle = ((_this5$SellerInfo = _this5.SellerInfo) === null || _this5$SellerInfo === void 0 ? void 0 : _this5$SellerInfo.isFocus) == 1 ? \"已收藏\" : \"收藏\";\n        if (res.banner1) {\n          _this5.banner.push(res.banner1);\n          _this5.autoplayTime = 0;\n        }\n        if (res.banner2) {\n          _this5.banner.push(res.banner2);\n          _this5.autoplayTime = 3000;\n        }\n        if (res.banner3) {\n          _this5.banner.push(res.banner3);\n          _this5.autoplayTime = 3000;\n        }\n        _this5.shopLoading.banner = _this5.shopLoading.avatar = false;\n      });\n    },\n    onRefresh() {\n      // 清空列表数据\n      this.finished = false;\n      this.page_no = 0;\n      // 重新加载数据\n      // 将 loading 设置为 true，表示处于加载状态\n      this.loading = true;\n      this.onLoad();\n    },\n    onLoad() {\n      if (this.refreshing) {\n        this.list = [];\n        this.refreshing = false;\n      }\n      this.getList();\n    },\n    openDetails(item) {\n      document.body.scrollTop = 0;\n      document.documentElement.scrollTop = 0;\n      this.$router.push(\"/CommodityDetails?sellerGoodsId=\" + item.id);\n    },\n    openUrl(url, name) {\n      !url && _Toast(this.$t(\"该商户未开通\") + \" \" + name);\n      url && (location.href = url);\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqQA;AACA;AACA;AACA;AACA;AAEA;EACAA;EACAC;IACA;MACAC;MACAC,aACA;QAAAC;MAAA,EACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC,cACA,eACA,eACA,eACA,cACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC,WACA;QAAArC;QAAAsC;MAAA,GACA;QAAAtC;QAAAsC;MAAA,EACA;MACAC,WACA;QAAAvC;QAAAsC;MAAA,GACA;QAAAtC;QAAAsC;MAAA,EACA;MACAE,WACA;QAAAxC;QAAAsC;MAAA,GACA;QAAAtC;QAAAsC;MAAA,EACA;MACAG;QACA5B;QACA6B;QACAlB;MACA;MACAmB;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAC;EACA;EACAC;IACAC;MACA;IACA;EACA;EACAC;IAAA;IACA;IACA;MACA;QACA;UACAC;UACA;QACA;QACA;UACAA;UACA;QACA;UACAA;UACA;QACA;UACA;MAAA;MAEAC;MACA;QACAC;QACAC;MACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;MACA;MACA;IACA;MACA;MACA;MACA;IACA;MACA;IACA;EACA;EACAC;IACAC;EACA;EACAC;IACAD;EACA;EACAE;IAEAC;MACA;IACA;IACAC;MAAA;MAEA;QACA;UACA;UAEA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;MAAA;IAIA;IACAC;MACA;IACA;IACAC;MAAA;MACA;MACA;QACAC;QACAC;QACAC;QACAnC;QACAoC;QACAjC;QACAE;MACA;MACA;QACAhC;MACA;QACA;MACA;MACA;QACAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACAgE;QACA;MACA;MACAC;QACA;UACA;QACA;QACA;QACA;UACA;QACA;QACA;QAEA;QACA;UACAC;UACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;MACA;MACAC;QAAAN;MAAA;QACA;QACA;UACA/D;UACA2B;UACA2C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;IACA;;IACAC;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACAjB;QACAA;QACA;MACA;MACA;MACA;MACA;MACA;MACA,wDACA;MACA;MACA;MACAA;MACAA;IACA;IACA;IACAkB;MAAA;QAAA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;MACA;QACA;MACA;QACA;UACAT;QACA;QACAU;UACA;UACA;UACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACAX;MACA;MACAY;QACA;QACA;QACA;MACA;IACA;IACAC;MACAC;MACA;QACA;QACA;QACA;MACA;QACA;QACA;QACA;MACA;QACA;QACA;QACA;MACA;MACA;MACA;MACA;MACAvB;MACAA;IACA;IACAwB;MACA;QACA;UACAC;QACA;QACA;MACA;QACA;UACAA;QACA;QACA;MACA;QACA;UACAA;QACA;QACA;MACA;MACA;MACA;MACA;MACAzB;MACAA;IACA;IACA0B;MACA;MACA;QACA;UACA;QACA;UACA;QACA;MACA;QACA;MACA;MACA;MAEA;QACA;QACA;UAAA1C;QAAA;MACA;QACA;QACA;UAAAA;QAAA;MACA;QACA;QACA;UAAAA;QAAA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACAgB;QACAA;MAEA;MAEA;MACAJ;QAAA9B;QAAAZ;MAAA;IACA;IACAyE;MACA;MACA;QACA;QACA/B;MACA;QACA;MACA;IACA;IACAgC;MACA;MACA;QAAAC;UAAAC;QAAA;MAAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACA;QACA;MACA;QACA;QACA;QACA;MACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACAtB;MACA;MACAsB;QAAA;QACA;QACA;QACA;UACA;UACA;QACA;QACA;UACA;UACA;QACA;QACA;UACA;UACA;QACA;QACA;MAEA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MAEA;QACA;QACA;MACA;MAEA;IACA;IACAC;MACAlC;MACAA;MACA;IACA;IACAmC;MACA;MACAC;IACA;EACA;AACA","names":["name","data","showPopover","actions123","text","nq","activeName","tab_index","highLow","autoplayTime","secondaryCategoryId","tab_nav_list","filter_list","banner","loading","finished","refreshing","isLeftShow","show","popupHeight","filterIndex","searchIcon","shopBg","SellerInfo","list","page_no","categoryList","categoryId","isPrice","newTime","collectTitle","isHot","actions","isRec","active1","active2","active3","actions1","value","actions2","actions3","shopLoading","avatar","itemName","components","GoodInfo","computed","langIsAr","created","lang","sessionStorage","localStorage","location","beforeDestroy","document","mounted","methods","handleSelect","getShopImage","priceFormat","getList","pageNum","pageSize","sellerId","isNew","Object","sellerGoodsList","obj","home_category","apiSellerTree","subList","selectCategory","addFocusSeller","focusSeller","delFocusSeller","focusSellerDel","onSelect","item","onCancel","info","selectIndex","onClickLeft","handleChange","query","index","getSellerInfo","onRefresh","onLoad","openDetails","openUrl","url"],"sourceRoot":"src/page/shop","sources":["index.vue"],"sourcesContent":["<template>\n    <div class=\"shop\">\n        <van-nav-bar safe-area-inset-top fixed class=\"nav-bar\" left-arrow @click-left=\"onClickLeft\">\n            <!-- <div slot=\"title\" class=\"tab-wrap\">\n                <router-link :to=\"'/store/search?sellerId=' + $route.query.sellerId\">\n                    <van-search shape=\"round\" readonly background=\"#4fc08d\" :placeholder=\"$t('搜索店铺内商品')\">\n                        <template #left-icon>\n                            <img :src=\"searchIcon\" alt=\"\" class=\"search-icon\" />\n                        </template>\n                    </van-search>\n                </router-link>\n            </div> -->\n<!--            <template #right v-if=\"itemName == 'EShop'\">-->\n<!--                <van-popover v-model=\"showPopover\" :actions=\"actions123\" placement=\"bottom-end\" @select=\"handleSelect\">-->\n<!--                    <template #reference>-->\n<!--                        <img @click=\"showPopover = !showPopover\" src=\"@/assets/image/shop/more.png\" alt=\"\">-->\n<!--                    </template>-->\n<!--                </van-popover>-->\n<!--            </template>-->\n        </van-nav-bar>\n        <!-- <div class=\"shop-header\" :style=\"{ background: `url(${shopBg}) center no-repeat !important;` }\"> -->\n        <div class=\"shop-header\" :style=\"!banner[0] && { background: `url(${shopBg}) no-repeat center / 100% 100%` }\">\n            <div class=\"shop-top\">\n                <div class=\"shop-info\">\n                    <div class=\"shop-info-left\">\n                        <div class=\"shop-avatar\">\n                            <van-skeleton :row=\"1\" class=\"avatar_picture skeleton\" :loading=\"shopLoading.avatar\">\n                                <img :src=\"SellerInfo?.avatar\" />\n                            </van-skeleton>\n                        </div>\n                    </div>\n\n\n                  <div class=\"shop-avatar\" style=\"margin-left: 5px\">\n                    <img\n                        style=\"width: 25px;height: 25px\"\n                        :src=\"this.getShopImage()\"\n                        alt=\"\"\n                        fit=\"fill\"\n                    />\n                  </div>\n                    <div class=\"shop-info-right\">\n                        <van-skeleton :row=\"1\" title class=\"skeleton\" :loading=\"shopLoading.avatar\">\n                            <p class=\"title\">{{ SellerInfo?.name }}</p>\n                            <p class=\"text nowrap2\">{{ $textOmit(SellerInfo?.shopRemark, 40) }}</p>\n                        </van-skeleton>\n\n                        <div class=\"logos\">\n                            <img v-if=\"SellerInfo?.facebook\" @click=\"openUrl(SellerInfo?.facebook, 'facebook')\"\n                                src=\"@/assets/image/shop/facbook.png\" />\n                            <img v-if=\"SellerInfo?.twitter\" @click=\"openUrl(SellerInfo?.twitter, 'twitter')\"\n                                src=\"@/assets/image/shop/twitter.png\" />\n                            <img v-if=\"SellerInfo?.google\" @click=\"openUrl(SellerInfo?.google, 'google')\"\n                                src=\"@/assets/image/shop/google.png\" />\n                            <img v-if=\"SellerInfo?.youtube\" @click=\"openUrl(SellerInfo?.youtube, 'youtube')\"\n                                src=\"@/assets/image/shop/youtuob.png\" />\n                            <img v-if=\"SellerInfo?.instagram\" @click=\"openUrl(SellerInfo?.instagram, 'instagram')\"\n                                src=\"@/assets/image/shop/ins.png\" />\n                        </div>\n                    </div>\n                </div>\n                <div class=\"shop-followed\" @click=\"addFocusSeller\">\n                    <img class=\"starbai\" src=\"@/assets/image/shop/starC.png\" v-if=\"this.SellerInfo?.isFocus == 1\" />\n                    <img class=\"starbai\" src=\"@/assets/image/shop/Starbai.png\" v-else />\n                    <div>{{ $t(collectTitle) }}</div>\n                </div>\n            </div>\n            <div class=\"shop-bottom\">\n                <div slot=\"title\" class=\"tab-wrap\">\n                    <!-- <div class=\"tab-item\" @click=\"handleChange(index)\" :class=\"[tab_index === index ? 'active' : '']\"\n                        v-for=\"(item, index) in tab_nav_list\" :key=\"index\">\n                        {{ item }}\n                    </div> -->\n                    <van-tabs v-model:active=\"tab_index\" @change=\"handleChange\" :line-height=\"langIsAr ? 0 : '3px'\">\n                        <van-tab v-for=\"(item, index) in tab_nav_list\" :key=\"index\" :title=\"item\"></van-tab>\n                    </van-tabs>\n                </div>\n                <div style=\"height: 48px\"></div>\n                <!-- Recommend -->\n            </div>\n            <div class=\"top-banner-div\">\n                <van-swipe class=\"my-swipe\" style=\"border-radius: 4px; direction: ltr;\" :autoplay=\"autoplayTime\"\n                    indicator-color=\"white\">\n                    <van-swipe-item v-for=\"(item, index) in banner\" :key=\"index\" style=\"border-radius: 4px\">\n                        <van-image fit=\"cover\" radius=\"4px\" :src=\"item\" style=\"swiper_image\">\n                            <van-loading type=\"spinner\" size=\"20\" />\n                        </van-image>\n                    </van-swipe-item>\n                </van-swipe>\n            </div>\n        </div>\n        <div class=\"tab-content\">\n            <div v-if=\"tab_index == 0\">\n                <!-- banner -->\n                <!-- <div class=\"banner-div\">\n                    <van-skeleton :row=\"1\" class=\"big_picture skeleton\" :loading=\"shopLoading.banner\">\n                        <van-swipe class=\"my-swipe\" style=\"border-radius: 4px\" :autoplay=\"3000\" indicator-color=\"white\"\n                            height=\"150\">\n                            <van-swipe-item v-for=\"(item, index) in banner\" :key=\"index\" style=\"border-radius: 4px\">\n                                <van-image radius=\"4px\" :src=\"item\" style=\"width: 100%; border-radius: 4px\"\n                                    height=\"150\">\n                                        <van-loading type=\"spinner\" size=\"20\" />\n                                </van-image>\n                            </van-swipe-item>\n                        </van-swipe>\n                    </van-skeleton>\n                </div> -->\n                <!-- product -->\n                <div class=\"padd-15\">\n                    <van-skeleton :row=\"4\" class=\"shop_skeleton skeleton\" :loading=\"shopLoading.list\">\n                        <van-skeleton :row=\"1\" class=\"big_picture skeleton\" :loading=\"shopLoading.banner\">\n                            <van-pull-refresh style=\"min-height: 100vh\" v-model=\"refreshing\" @refresh=\"onRefresh\"\n                                :pulling-text=\"$t('下拉即可刷新')\" :loosing-text=\"$t('释放即可刷新')\" :loading-text=\"$t('加载中')\">\n                                <van-list v-model=\"loading\" :finished=\"finished\" :loading-text=\"$t('加载中')\"\n                                    :finished-text=\"$t('没有更多了')\" @load=\"onLoad\">\n                                    <div class=\"list\">\n                                        <GoodInfo :list=\"list\" :index=\"0\" />\n                                        <van-empty v-if=\"list.length == 0\" :description=\"$t('暂无数据')\" />\n                                    </div>\n                                </van-list>\n                            </van-pull-refresh>\n                        </van-skeleton>\n                    </van-skeleton>\n\n                </div>\n            </div>\n            <!-- Commodity -->\n            <div v-else-if=\"tab_index == 1\">\n                <div class=\"top_wrap\">\n                    <div class=\"top_head\">\n                        <div class=\"search_box\">\n                            <div class=\"left\" @click=\"isLeftShow = true\">\n                                <img src=\"@/assets/image/commodity/saixuan.png\" alt=\"\" />\n                            </div>\n                            <div slot=\"title\" class=\"tab-wrap\">\n                                <router-link :to=\"'/store/search?sellerId=' + $route.query.sellerId\">\n                                    <van-search shape=\"round\" readonly background=\"#4fc08d\" :placeholder=\"$t('搜索店铺内商品')\">\n                                        <template #left-icon>\n                                            <img :src=\"searchIcon\" alt=\"\" class=\"search-icon\" />\n                                        </template>\n                                    </van-search>\n                                </router-link>\n                            </div>\n                        </div>\n                        <!-- 筛选 -->\n                        <div class=\"filter-div\">\n                            <div :class=\"['filter-item', filterIndex == index && 'active']\"\n                                v-for=\"(item, index) in filter_list\" :key=\"index\" @click=\"selectIndex(item, index)\">\n                                <div>{{ item }}</div>\n                                <div class=\"right_icon\" v-if=\"index !== 0 && item\">\n                                    <img v-if=\"highLow === 1 || filterIndex !== index\" src=\"@/assets/image/shop/1.jpg\"\n                                        alt=\"\">\n                                    <img v-if=\"highLow === 2 && filterIndex === index\" src=\"@/assets/image/shop/2.jpg\"\n                                        alt=\"\">\n                                    <img v-if=\"highLow === 3 && filterIndex === index\" src=\"@/assets/image/shop/3.jpg\"\n                                        alt=\"\">\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                </div>\n\n                <!-- product -->\n                <div class=\"padd-15\">\n                    <van-skeleton :row=\"4\" class=\"shop_skeleton skeleton\" :loading=\"shopLoading.list\">\n                        <van-pull-refresh style=\"min-height: calc(100vh - 450px)\" v-model=\"refreshing\" @refresh=\"onRefresh\"\n                            :pulling-text=\"$t('下拉即可刷新')\" :loosing-text=\"$t('释放即可刷新')\" :loading-text=\"$t('加载中')\">\n                            <van-list v-model=\"loading\" :finished=\"finished\" :loading-text=\"$t('加载中')\"\n                                :finished-text=\"$t('没有更多了')\" @load=\"onLoad\">\n                                <div class=\"list\">\n                                    <GoodInfo :list=\"list\" :index=\"1\" />\n                                    <van-empty v-if=\"list.length == 0\" :description=\"$t('暂无数据')\" />\n                                </div>\n                            </van-list>\n                        </van-pull-refresh>\n                    </van-skeleton>\n                </div>\n            </div>\n            <!-- Sort -->\n            <!-- <div v-else>\n                <div class=\"left\" @click=\"isLeftShow = true\">\n                    <img src=\"@/assets/image/commodity/saixuan.png\" alt=\"\" />\n                </div>\n                <div class=\"padd-15\">\n                    <van-skeleton :row=\"4\" class=\"shop_skeleton skeleton\" :loading=\"shopLoading.list\">\n                        <van-pull-refresh style=\"min-height: 100vh\" v-model=\"refreshing\" @refresh=\"onRefresh\"\n                            :pulling-text=\"$t('下拉即可刷新')\" :loosing-text=\"$t('释放即可刷新')\" :loading-text=\"$t('加载中')\">\n                            <van-list v-model=\"loading\" :finished=\"finished\" :loading-text=\"$t('加载中')\" :finished-text=\"$t('没有更多了')\"\n                                @load=\"onLoad\">\n                                <div class=\"list\">\n                                    <GoodInfo :list=\"list\" :index=\"2\" />\n                                </div>\n                            </van-list>\n                        </van-pull-refresh>\n                    </van-skeleton>\n                </div>\n            </div> -->\n\n        </div>\n        <!-- 侧边选项 -->\n        <van-popup :overlay=\"false\" v-model=\"isLeftShow\" position=\"left\" :style=\"{ height: '100%' }\">\n            <div class=\"pop-wrap\">\n                <div class=\"pop-header-wrap\">\n                    <div class=\"pop-header-wrap-left\">\n                        <img src=\"@/assets/image/commodity/saixuan.png\" alt=\"\" />\n                        {{ $t(\"筛选\") }}\n                    </div>\n                    <div class=\"pop-header-wrap-right\" @click=\"isLeftShow = false\">\n                        <img src=\"@/assets/image/commodity/guanbi.png\" alt=\"\" />\n                    </div>\n                </div>\n                <!-- <div class=\"pop-center-wrap\">\n                        <div class=\"center-item\" v-for=\"(item, index) in categoryList\"\n                            :class=\"[item.categoryId == categoryId ? 'active' : '']\" :key=\"index\"\n                            @click=\"selectCategory(item)\">\n                            {{ item.name }}\n                        </div>\n                    </div> -->\n                <div class=\"pop-center-wrap\">\n                    <van-collapse v-model=\"activeName\" accordion>\n                        <template v-for=\"(item, index) of categoryList\">\n                            <van-collapse-item :title=\"item.name\" :name=\"index\" v-if=\"item.subList.length\">\n                                <span v-for=\"(sub, j) of item.subList\" :key=\"j\" @click=\"selectCategory(item, sub)\"\n                                    :class=\"[sub.categoryId == secondaryCategoryId ? 'center-item active2' : 'center-item']\">\n                                    {{ sub.name || sub.id }}\n                                </span>\n                            </van-collapse-item>\n                            <div class=\"center-item\" v-else @click=\"selectCategory(item)\"\n                                :class=\"[item.categoryId == categoryId ? 'active' : '']\">\n                                {{ item.name || item.id }}\n                            </div>\n                        </template>\n                    </van-collapse>\n                </div>\n            </div>\n        </van-popup>\n        <!-- <van-action-sheet v-model=\"show\" :actions=\"actions\" @cancel=\"onCancel\" :cancel-text=\"$t('取消')\"\n            close-on-click-action @select=\"onSelect\" /> -->\n    </div>\n</template>\n<script>\nimport {\n    Swipe,\n    SwipeItem,\n    Image as VanImage,\n    loading,\n    PullRefresh,\n    List,\n    Popup,\n    Icon,\n    Toast,\n    ActionSheet,\n    Dialog,\n    Skeleton,\n    Tab,\n    Tabs,\n    Empty,\n    Collapse, CollapseItem,\n    Popover\n} from \"vant\";\nimport { apiGetCategory, apiCategoryTree } from \"@/API/home\";\nimport { getSellerInfo } from \"@/API/commodity\";\nimport { sellerGoodsList, focusSeller, focusSellerDel, apiSellerTree } from \"@/API/shop\";\nimport { isLogin, priceFormat, getStorage } from \"@/utils/utis\";\nimport GoodInfo from \"@/page/shop/goodInfo.vue\";\n\nexport default {\n    name: \"shop\",\n    data() {\n        return {\n            showPopover: false,\n            actions123: [\n                { text: this.$t('投诉') }\n            ],\n            nq: \"\",\n            activeName: \"\",\n            tab_index: 0,\n            highLow: 1,\n            autoplayTime: 3000,\n            secondaryCategoryId: \"\",\n            tab_nav_list: [this.$t(\"推荐\"), this.$t(\"商品\")],\n            filter_list: [\n                this.$t(\"综合\"),\n                this.$t(\"销量\"),\n                this.$t(\"价格\"),\n                this.$t(\"新品\"),\n            ],\n            banner: [],\n            loading: false,\n            finished: false,\n            refreshing: false,\n            isLeftShow: false,\n            show: false,\n            popupHeight: 0,\n            filterIndex: 0,\n            searchIcon: require(\"@/assets/image/index/sousuo.png\"),\n            shopBg: require('@/assets/image/shop/bg.png'),\n            SellerInfo: {},\n            list: [],\n            page_no: 0,\n            categoryList: [],\n            categoryId: \"\",\n            isPrice: 0,\n            newTime: 0,\n            collectTitle: \"收藏\",\n            isHot: 0,\n            actions: [],\n            isRec: 0,\n            active1: 0,\n            active2: 0,\n            active3: 0,\n            actions1: [\n                { name: this.$t(\"价格由高到低\"), value: 1 },\n                { name: this.$t(\"价格由低到高\"), value: 2 },\n            ],\n            actions2: [\n                { name: this.$t(\"销售量由高到低\"), value: 1 },\n                { name: this.$t(\"销售量由低到高\"), value: 2 },\n            ],\n            actions3: [\n                { name: this.$t(\"时间由远到近\"), value: 1 },\n                { name: this.$t(\"时间由近到远\"), value: 2 },\n            ],\n            shopLoading: {\n                banner: false,\n                avatar: false,\n                list: false\n            },\n            itemName: process.env.VUE_APP_ITEM_NAME,\n        };\n    },\n    components: {\n        [Tab.name]: Tab,\n        [Tabs.name]: Tabs,\n        [Empty.name]: Empty,\n        [Skeleton.name]: Skeleton,\n        [Swipe.name]: Swipe,\n        [SwipeItem.name]: SwipeItem,\n        [VanImage.name]: VanImage,\n        [loading.name]: loading,\n        [PullRefresh.name]: PullRefresh,\n        [List.name]: List,\n        [Popup.name]: Popup,\n        [Icon.name]: Icon,\n        [Toast.name]: Toast,\n        [Dialog.Component.name]: Dialog.Component,\n        [ActionSheet.name]: ActionSheet,\n        [Collapse.name]: Collapse,\n        [CollapseItem.name]: CollapseItem,\n        [Popover.name]: Popover,\n        GoodInfo,\n    },\n    computed: {\n        langIsAr() {\n            return localStorage.getItem('lang') == 'ar'\n        }\n    },\n    created() {\n        let lang = this.$route.query?.lang\n        if (lang) {\n            switch (lang) {\n                case 'zh-CN':\n                    lang = 'cn'\n                    break;\n                case 'zh-TW':\n                case 'CN':\n                    lang = 'tw'\n                    break;\n                case 'en-US':\n                    lang = 'en'\n                    break;\n                default:\n                    break;\n            }\n            sessionStorage.setItem('backPath', '/')\n            if (lang !== localStorage.getItem('lang')) {\n                localStorage.setItem('lang', lang)\n                location.reload()\n            }\n        }\n        if (this.$route.query.index) this.tab_index = +(this.$route.query.index)\n        this.popupHeight = this.screenHight - 108;\n        this.getSellerInfo(this.$route.query.sellerId);\n        this.home_category();\n        const tempObj = JSON.parse(sessionStorage.getItem(\"shopState\"))\n        if (['Argos', 'ArgosShop'].includes(this.itemName)) {\n            this.filter_list = ['', this.$t('销量'), this.$t('价格'), ''];\n            this.selectIndex({}, 1, 2)\n        } else if (tempObj?.filterIndex) {\n            this.filterIndex = tempObj.filterIndex\n            this.highLow = tempObj.highLow\n            this.selectIndex({}, tempObj.filterIndex, tempObj.highLow)\n        } else {\n            this.onLoad();\n        }\n    },\n    beforeDestroy() {\n        document.body.style.overflow = 'auto'\n    },\n    mounted() {\n        document.body.style.overflow = 'hidden'\n    },\n    methods: {\n\n        handleSelect(action) {\n            this.$router.push('/complaint?sellerId=' + this.$route.query.sellerId)\n        },\n      getShopImage() {\n\n        switch (this.SellerInfo?.mallLevel) {\n          case \"A\":\n            return require('@/assets/level/a.png')\n\n            break;\n          case \"B\":\n            return require('@/assets/level/b.png')\n            break;\n          case \"C\":\n            return require('@/assets/level/c.png')\n            break\n          case \"S\":\n            return require('@/assets/level/s.png')\n            break;\n          case \"O\":\n            return require('@/assets/level/s.png')\n            break;\n          case \"SS\":\n            return require('@/assets/level/s.png')\n            break;\n          case \"SSS\":\n            return require('@/assets/level/s.png')\n            break;\n          default:\n            return require('@/assets/level/a.png')\n            break;\n\n        }\n\n      },\n        priceFormat(num) {\n            return priceFormat(num);\n        },\n        getList() {\n            this.page_no++;\n            var data = {\n                pageNum: this.page_no,\n                pageSize: 10,\n                sellerId: this.$route.query.sellerId,\n                isPrice: this.isPrice,\n                isNew: this.newTime,\n                isHot: this.isHot,\n                isRec: this.isRec\n            };\n            if (this.tab_index == 0) {\n                data.isRec = '1'\n            } else {\n                delete data.isRec\n            }\n            if (this.categoryId && this.categoryId != \"-1\") {\n                data.categoryId = this.categoryId;\n            }\n            // if (this.isPrice == 1) {\n            //   data.isPrice = this.isPrice\n            // }\n            // if (this.newTime) {\n            //   data.newTime = this.newTime\n            // }\n            !data.categoryId && delete data.categoryId;\n            !data.isHot && delete data.isHot;\n            !data.isPrice && delete data.isPrice;\n            !data.newTime && delete data.newTime;\n            Object.keys(data).forEach(k => {\n                if (!data[k]) delete data[k]\n            })\n            sellerGoodsList(data).then((res) => {\n                for (let i = 0; i < res.pageList.length; i++) {\n                    this.list.push(res.pageList[i]);\n                }\n                this.loading = false;\n                if (res.pageList.length == 0) {\n                    this.finished = true;\n                }\n                this.shopLoading.list = false\n\n                var obj = {};\n                this.list = this.list.reduce((prev, cur) => {\n                    obj[cur.id] ? \"\" : (obj[cur.id] = true && prev.push(cur));\n                    return prev;\n                }, []);\n            });\n        },\n        //获取分类\n        home_category() {\n            // apiGetCategory({ sellerId: this.$route.query.sellerId }).then((res) => {\n            //     this.categoryList = res\n            // });\n            apiSellerTree({ sellerId: this.$route.query.sellerId }).then((res) => {\n                this.categoryList = res\n                this.categoryList.unshift({\n                    name: this.$t(\"全部商品\"),\n                    categoryId: \"-1\",\n                    subList: [],\n                })\n                // .filter(item => {\n                //     if (item.name && item.subList.length > 0) {\n                //         item.subList = item.subList.filter(subItem => subItem.name);\n                //     }\n                //     return item.name;\n                // });\n            });\n        },\n        selectCategory(item, sub) {\n            if (item.categoryId == '-1') {\n                this.refreshing = true\n                this.page_no = 0;\n                this.categoryId = '-1'\n                this.secondaryCategoryId = ''\n                this.isLeftShow = false;\n                this.onLoad();\n                document.body.scrollTop = 0;\n                document.documentElement.scrollTop = 0;\n                return\n            }\n            this.isLoading = true\n            this.page_no = 0;\n            this.list = [];\n            this.categoryId = item?.categoryId;\n            if (sub) this.secondaryCategoryId = sub.categoryId;\n            else this.secondaryCategoryId = '';\n            this.isLeftShow = false;\n            this.onLoad();\n            document.body.scrollTop = 0;\n            document.documentElement.scrollTop = 0;\n        },\n        //关注店铺\n        addFocusSeller() {\n            if (!isLogin()) {\n                // Toast(this.$t(\"请先登录\"));\n                // Dialog.confirm({\n                //     title: this.$t(\"您还未登录\"),\n                //     message: this.$t(\"是否跳转到登录页面\"),\n                //     confirmButtonText: this.$t(\"确认\"),\n                //     cancelButtonText: this.$t(\"取消\"),\n                // }).then(() => {\n                //     this.$router.push(\"/login\");\n                // });\n                this.$notifyWarn(this.$t(\"请先登录\"));\n                this.$router.push(\"/login\");\n                return;\n            }\n            if (this.SellerInfo?.isFocus == 1) {\n                this.delFocusSeller();\n            } else {\n                let data = {\n                    sellerId: this.$route.query.sellerId,\n                };\n                focusSeller(data).then(() => {\n                    this.collectTitle = \"已收藏\";\n                    this.SellerInfo.isFocus = 1;\n                    Toast(this.$t(\"关注成功\"));\n                });\n            }\n        },\n        //取消关注\n        delFocusSeller() {\n            let data = {\n                sellerId: this.$route.query.sellerId,\n            };\n            focusSellerDel(data).then(() => {\n                this.SellerInfo.isFocus = 0;\n                this.collectTitle = \"收藏\";\n                Toast(this.$t(\"取消成功\"));\n            });\n        },\n        onSelect(item) {\n            item.value = item.value === 1 ? 2 : 1\n            if (this.filterIndex == 1) {\n                this.isPrice = 0;\n                this.isHot = item.value;\n                this.newTime = 0;\n            } else if (this.filterIndex == 2) {\n                this.isPrice = item.value;\n                this.isHot = 0;\n                this.newTime = 0;\n            } else {\n                this.isPrice = 0;\n                this.isHot = 0;\n                this.newTime = item.value;\n            }\n            this.page_no = 0;\n            this.list = [];\n            this.onLoad();\n            document.body.scrollTop = 0;\n            document.documentElement.scrollTop = 0;\n        },\n        onCancel() {\n            if (this.filterIndex == 1) {\n                this.actions1.map((info) => {\n                    info.color = \"\";\n                });\n                this.isPrice = 0;\n            } else if (this.filterIndex == 2) {\n                this.actions2.map((info) => {\n                    info.color = \"\";\n                });\n                this.isHot = 0;\n            } else {\n                this.actions3.map((info) => {\n                    info.color = \"\";\n                });\n                this.newTime = 0;\n            }\n            this.page_no = 0;\n            this.list = [];\n            this.onLoad();\n            document.body.scrollTop = 0;\n            document.documentElement.scrollTop = 0;\n        },\n        selectIndex(item, index, highLow) {\n            this.shopLoading.list = true\n            if (!highLow) {\n                if (this.filterIndex === index) {\n                    this.highLow = this.highLow === 2 ? 3 : this.highLow === 3 ? 2 : 2\n                } else {\n                    this.highLow = 2\n                }\n            } else {\n                this.highLow = highLow\n            }\n            this.filterIndex = index;\n\n            if (index == 1) {\n                this.actions = this.actions2;\n                this.onSelect({ value: this.highLow - 1 })\n            } else if (index == 2) {\n                this.actions = this.actions1;\n                this.onSelect({ value: this.highLow - 1 })\n            } else if (index == 3) {\n                this.actions = this.actions3;\n                this.onSelect({ value: this.highLow - 1 })\n            } else {\n                this.isPrice = 0\n                this.newTime = ''\n                this.isPrice = 0;\n                this.newTime = 0;\n                this.isHot = 0;\n                this.page_no = 0;\n                this.list = [];\n                this.onLoad();\n                document.body.scrollTop = 0;\n                document.documentElement.scrollTop = 0;\n\n            }\n\n            this.filterIndex = index;\n            sessionStorage.setItem(\"shopState\", JSON.stringify({ filterIndex: this.filterIndex, highLow: this.highLow }))\n        },\n        onClickLeft() {\n            const backPath = sessionStorage.getItem(\"backPath\")\n            if (backPath) {\n                this.$router.replace('/')\n                sessionStorage.removeItem(\"backPath\")\n            } else {\n                this.$router.go(-1);\n            }\n        },\n        handleChange(index) {\n            this.isLeftShow = false;\n            this.$router.replace({ query: { ...this.$route.query, index } })\n            this.shopLoading.list = true\n            this.list = [];\n            // if (index == this.tab_index) return;\n            // index == 0 ? (this.isRec = \"1\") : (this.isRec = \"0\");\n            this.tab_index = index;\n            this.categoryId = undefined;\n            this.isPrice = undefined;\n            this.newTime = 0;\n            this.filterIndex = 0;\n            this.page_no = 0;\n            const tempObj = JSON.parse(sessionStorage.getItem(\"shopState\"))\n            if (['Argos', 'ArgosShop'].includes(this.itemName)) {\n                this.filter_list = ['', this.$t('销量'), this.$t('价格'), ''];\n                this.selectIndex({}, 1, 2)\n            } else if (tempObj?.filterIndex) {\n                this.filterIndex = tempObj.filterIndex\n                this.highLow = tempObj.highLow\n                this.selectIndex({}, tempObj.filterIndex, tempObj.highLow)\n            } else {\n                this.onLoad();\n            }\n        },\n        // 商家详情\n        getSellerInfo(id) {\n            let dataJson = {\n                sellerId: id,\n            };\n            getSellerInfo(dataJson).then((res) => {\n                this.SellerInfo = res;\n                this.collectTitle = this.SellerInfo?.isFocus == 1 ? \"已收藏\" : \"收藏\";\n                if (res.banner1) {\n                    this.banner.push(res.banner1);\n                    this.autoplayTime = 0\n                }\n                if (res.banner2) {\n                    this.banner.push(res.banner2);\n                    this.autoplayTime = 3000\n                }\n                if (res.banner3) {\n                    this.banner.push(res.banner3);\n                    this.autoplayTime = 3000\n                }\n                this.shopLoading.banner = this.shopLoading.avatar = false\n\n            });\n        },\n        onRefresh() {\n            // 清空列表数据\n            this.finished = false;\n            this.page_no = 0;\n            // 重新加载数据\n            // 将 loading 设置为 true，表示处于加载状态\n            this.loading = true;\n            this.onLoad();\n        },\n        onLoad() {\n\n            if (this.refreshing) {\n                this.list = [];\n                this.refreshing = false;\n            }\n\n            this.getList();\n        },\n        openDetails(item) {\n            document.body.scrollTop = 0;\n            document.documentElement.scrollTop = 0;\n            this.$router.push(\"/CommodityDetails?sellerGoodsId=\" + item.id);\n        },\n        openUrl(url, name) {\n            !url && Toast(this.$t(\"该商户未开通\") + \" \" + name);\n            url && (location.href = url);\n        },\n    },\n};\n</script>\n<style lang=\"scss\" scoped>\nhtml[dir=\"rtl\"] {\n    .shop-bottom /deep/ .van-tab--active {\n        position: relative;\n\n        &::after {\n            content: '';\n            width: 50px;\n            height: 3px;\n            background: var(--main-color);\n            position: absolute;\n            bottom: 0;\n            left: 50%;\n            transform: translateX(-50%);\n            border-radius: 2px;\n        }\n    }\n}\n\n.top_wrap {\n    width: 100%;\n    height: 110px;\n}\n\n.top_head {\n    width: 100%;\n    position: fixed;\n    top: 225px;\n    left: 0;\n    z-index: 99;\n    background: #fff;\n}\n\n:deep(.van-list__finished-text) {\n    margin-top: 10px;\n}\n\n:deep(.van-cell) {\n    background: transparent;\n    padding: 18px 16px;\n\n    &:active {\n        background-color: transparent;\n    }\n\n    .van-cell__title {\n        font-size: 12px !important;\n    }\n\n    i {\n        font-size: 12px;\n    }\n}\n\n:deep(.van-collapse-item__title--expanded) {\n\n    color: var(--main-color);\n}\n\n:deep(.van-collapse-item__content) {\n    font-size: 12px !important;\n    color: #333333;\n    background: transparent !important;\n    padding: 0;\n\n    .center-item {\n        padding: 0 32px !important;\n        width: 100%;\n    }\n}\n\n.padd-15 {\n    padding: 12px;\n    box-sizing: border-box;\n}\n\n:deep(.van-pull-refresh) {\n    min-height: 0;\n}\n\n:deep(.van-tabs) {\n    width: 100%;\n\n    .van-tabs__line {\n        width: 80px;\n        background: var(--main-color) !important;\n    }\n}\n\n:deep(.van-skeleton__row) {\n    margin-top: 10px;\n}\n\n:deep(#app) {\n    overflow: hidden;\n}\n\n:deep(.van-list__finished-text) {\n    margin-top: 10px;\n}\n\n:deep(.van-cell) {\n    background: transparent;\n    padding: 18px 16px;\n\n    &:active {\n        background-color: transparent;\n    }\n\n    .van-cell__title {\n        font-size: 12px !important;\n    }\n\n    i {\n        font-size: 12px;\n    }\n}\n\n:deep(.van-collapse-item__title--expanded) {\n\n    color: var(--main-color);\n}\n\n:deep(.van-collapse-item__content) {\n    font-size: 12px !important;\n    color: #333333;\n    background: transparent !important;\n    padding: 0;\n\n    .center-item {\n        padding: 0 32px !important;\n        width: 100%;\n    }\n}\n\n.shop {\n    width: 100%;\n    height: 100%;\n    font-size: 14px;\n    background: rgba(238, 238, 238, 1);\n    overflow: hidden;\n\n    .shop-header {\n        // background: url(\"@/assets/image/shop/bg.png\") center no-repeat;\n        background-size: 100% 100%;\n        background-repeat: no-repeat;\n        background-position: center;\n        background: rgba(0, 0, 0, 0.5);\n        width: 100%;\n        height: 130px;\n        padding-top: 60px;\n        position: relative;\n        z-index: 3;\n\n        .top-banner-div {\n            width: 100vw;\n            position: absolute;\n            top: 0;\n            left: 0;\n            z-index: -1;\n            height: 180px;\n            //background: white;\n            // filter: drop-shadow(0px 6px 12px rgba(55, 63, 69, 0.1));\n            border-radius: 4px;\n            opacity: .5;\n\n            :deep(.van-swipe__indicators) {\n                display: none;\n            }\n\n            .swiper_image {\n                border-radius: 4px;\n                height: auto;\n                max-height: 150px;\n            }\n\n            .my-swipe {\n                height: 100% !important;\n                width: 100% !important;\n\n                :deep(.van-swipe-item) {\n                    width: 100% !important;\n                }\n\n                :deep(.van-swipe__track) {\n                    width: 100% !important;\n                    height: 100% !important;\n\n                    .van-image,\n                    img {\n                        // width: 100% !important;\n                        height: 100% !important;\n                    }\n                }\n            }\n\n        }\n\n        .shop-top {\n            padding-left: 10px;\n            display: flex;\n            margin-top: 20px;\n\n            .shop-info {\n                display: flex;\n                flex: 1;\n                min-height: 97px;\n\n                .shop-info-left {\n                    .shop-avatar {\n                        width: 60px;\n                        height: 60px;\n                        background: #fff;\n                        border-radius: 50%;\n                        overflow: hidden;\n                        display: flex;\n                        justify-content: center;\n                        align-items: center;\n\n                        img {\n                            max-width: 100%;\n                            max-height: 100%;\n                        }\n                    }\n                }\n\n                .shop-info-right {\n                    padding-left: 10px;\n                    width: 100%;\n                    // transform: translateY(10px);\n\n                    .title {\n                        color: #f5f5f7;\n                        font-size: 16px;\n                        font-weight: 600;\n                        height: 19px;\n                    }\n\n                    .text {\n                        color: #e0e0e0;\n                        font-size: 12px;\n                        margin-top: 5px;\n                        overflow: hidden;\n                        text-overflow: ellipsis;\n                        display: -webkit-box;\n                        -webkit-box-orient: vertical;\n                        -moz-box-orient: vertical;\n                        box-orient: vertical;\n                        -webkit-line-clamp: 2;\n                        line-clamp: 2;\n                        min-height: 33px;\n                        // height: 28px;\n                    }\n\n                    .logos {\n                        margin: 10px 0;\n                        height: 25px;\n\n                        img {\n                            width: 25px;\n                            height: 25px;\n                            margin-right: 10px;\n                        }\n                    }\n                }\n            }\n\n            .shop-followed {\n                background-color: var(--main-color);\n                height: 25px;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                color: #f5f5f7;\n                border-top-left-radius: 20px;\n                border-bottom-left-radius: 20px;\n                margin-top: 20px;\n                padding: 0 6px;\n                box-sizing: border-box;\n\n                >img {\n                    width: 15px;\n                    height: 15px;\n                    flex-shrink: 0;\n                }\n\n                >div {\n                    margin-left: 6px;\n                }\n\n                .starbai {\n                    width: 14px;\n                    height: 14px;\n                }\n            }\n        }\n\n        .shop-bottom {\n            position: relative;\n            padding-bottom: 10px;\n\n            .tab-wrap {\n                display: flex;\n                position: absolute;\n                left: 0;\n                top: 0;\n                width: 90%;\n                height: 48px;\n                background: #fff;\n                padding: 0 5%;\n\n                .tab-item {\n                    flex: 1;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                }\n\n                .active {\n                    border-bottom: 2px solid var(--main-color);\n                }\n            }\n        }\n    }\n\n    .tab-content {\n        width: 100%;\n        height: 100%;\n        padding-top: 30px;\n        padding-bottom: 220px;\n        box-sizing: border-box;\n        // position: absolute;\n        // top: 224px !important;\n        // left: 0;\n        // z-index: 2;\n        overflow: scroll;\n        background: #fff;\n\n        .banner-div {\n            padding: 14px;\n            //background: white;\n            filter: drop-shadow(0px 6px 12px rgba(55, 63, 69, 0.1));\n            border-radius: 4px;\n        }\n\n        .filter-div {\n            height: 40px;\n            background: #fff;\n            margin: 0 14px 0 14px;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            overflow-x: auto;\n            scrollbar-width: none;\n            -ms-overflow-style: none;\n\n            &::-webkit-scrollbar {\n                display: none;\n            }\n\n            .right_icon {\n                margin-left: 5px;\n                transform: translateY(-1px);\n\n                img {\n                    width: 10px;\n                    height: 15px;\n                    vertical-align: middle;\n                }\n            }\n\n            .filter-item {\n                margin-left: 20px;\n                font-size: 14px;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n\n                &:first-child {\n                    margin-left: 0;\n                }\n\n                &.active {\n                    color: var(--main-color);\n                }\n\n                div {\n                    white-space: nowrap;\n                }\n\n                // .icons {\n                //     display: flex;\n                //     flex-direction: column;\n                //     justify-content: flex-start;\n                //     align-items: center;\n\n                //     .top-icon {\n                //         width: 15px;\n                //         height: 9px;\n                //         margin-left: 3px;\n                //     }\n\n                //     .top-icon1 {\n                //         margin-top: 5px;\n                //     }\n\n                //     .top-bg-icon {\n                //         background: url(\"@/assets/image/shop/top1.png\") center no-repeat;\n                //         background-size: 100% 100%;\n                //     }\n\n                //     .down-bg-icon {\n                //         background: url(\"@/assets/image/shop/top2.png\") center no-repeat;\n                //         background-size: 100% 100%;\n                //     }\n                // }\n            }\n        }\n\n        .left {\n            width: 36px;\n            height: 36px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            // margin: 10px 15px 0 15px;\n            margin-right: 9px;\n\n            img {\n                width: 36px;\n                height: 36px;\n            }\n        }\n    }\n\n    .nav-bar {\n        background: transparent;\n        top: 15px;\n        z-index: 4;\n    }\n\n    .pop-wrap {\n        background: #f5f5f7;\n        box-shadow: 8px 0px 6px -1px rgba(138, 138, 138, 0.16);\n        width: 165px;\n        overflow-y: auto;\n        height: calc(100vh - 200px);\n        position: relative;\n        scrollbar-width: none;\n        -ms-overflow-style: none;\n        z-index: 999;\n        overflow: hidden;\n\n        &::-webkit-scrollbar {\n            display: none;\n        }\n\n        .pop-header-wrap {\n            height: 50px;\n            display: flex;\n            align-items: center;\n            margin: 0 10px;\n            border-bottom: 1px solid #e6e6e6;\n\n            .pop-header-wrap-left {\n                flex: 1;\n                color: #333333;\n                font-size: 12px;\n                display: flex;\n                align-items: center;\n\n                img {\n                    width: 24px;\n                    height: 24px;\n                    margin-right: 5px;\n                }\n            }\n\n            .pop-header-wrap-right {\n                display: flex;\n                align-items: center;\n\n                img {\n                    width: 20px;\n                    height: 20px;\n                }\n            }\n        }\n\n        .pop-center-wrap {\n            height: 330px;\n            overflow-y: auto;\n            padding-bottom: 100px;\n            background: #f5f5f7;\n\n            .center-item {\n                display: flex;\n                justify-content: flex-start;\n                align-items: center;\n                height: 45px;\n                padding: 0 18px;\n                font-size: 12px;\n                position: relative;\n\n            }\n\n            .active {\n                background: #fff;\n\n                color: var(--main-color);\n                border-left: 2px solid var(--main-color);\n            }\n\n            .active2 {\n                background: #fff;\n                border-left: 2px solid var(--main-color);\n            }\n        }\n    }\n}\n\n/deep/ [class*=\"van-hairline\"]::after {\n    border: none !important;\n}\n\n/deep/ .van-nav-bar .van-icon-arrow-left {\n    color: #fff;\n}\n\n/deep/ .van-nav-bar__title {\n    width: 77% !important;\n    max-width: 77%;\n    padding-left: 20px;\n}\n\n/deep/ .van-search {\n    padding: 0 !important;\n    background: transparent !important;\n}\n\n/deep/ .van-search .van-cell {\n    padding: 8px 8px 8px 0;\n}\n\n/deep/ .van-popup--left {\n    top: 78%;\n    overflow: hidden;\n}\n\n:deep(.van-popup) {\n    scrollbar-width: none;\n    -ms-overflow-style: none;\n    z-index: 999999 !important;\n    overflow: hidden !important;\n    height: 100%;\n    background: #f5f5f7 !important;\n\n    &::-webkit-scrollbar {\n        display: none;\n    }\n}\n\n/deep/ .van-field__left-icon {\n    display: flex;\n    align-items: center;\n    width: 16px;\n    margin-right: 8px;\n\n    >img {\n        width: 100%;\n        height: auto;\n    }\n}\n\n.search_box {\n    display: flex;\n    align-items: center;\n    padding: 13px 12px 0 12px;\n\n    .tab-wrap {\n        width: 100%;\n    }\n}\n\n.arrow-right {\n    width: 10px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}