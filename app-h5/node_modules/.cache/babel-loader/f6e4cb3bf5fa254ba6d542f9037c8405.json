{"ast":null,"code":"var buildHTML = require(\"./buildHTML\");\nvar buildMathML = require(\"./buildMathML\");\nvar buildCommon = require(\"./buildCommon\");\nvar Options = require(\"./Options\");\nvar Settings = require(\"./Settings\");\nvar Style = require(\"./Style\");\nvar makeSpan = buildCommon.makeSpan;\nvar buildTree = function buildTree(tree, expression, settings) {\n  settings = settings || new Settings({});\n  var startStyle = Style.TEXT;\n  if (settings.displayMode) {\n    startStyle = Style.DISPLAY;\n  }\n\n  // Setup the default options\n  var options = new Options({\n    style: startStyle,\n    size: \"size5\"\n  });\n\n  // `buildHTML` sometimes messes with the parse tree (like turning bins ->\n  // ords), so we build the MathML version first.\n  var mathMLNode = buildMathML(tree, expression, options);\n  var htmlNode = buildHTML(tree, options);\n  var katexNode = makeSpan([\"katex\"], [mathMLNode, htmlNode]);\n  if (settings.displayMode) {\n    return makeSpan([\"katex-display\"], [katexNode]);\n  } else {\n    return katexNode;\n  }\n};\nmodule.exports = buildTree;","map":null,"metadata":{},"sourceType":"script"}