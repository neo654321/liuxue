{"ast":null,"code":"import _objectSpread from \"/Users/neo/Desktop/liuxue/app-h5/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _regeneratorRuntime from \"/Users/neo/Desktop/liuxue/app-h5/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/neo/Desktop/liuxue/app-h5/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"vant/es/icon/style\";\nimport _Icon from \"vant/es/icon\";\nimport \"vant/es/toast/style\";\nimport _Toast from \"vant/es/toast\";\nimport \"core-js/modules/es.array.push.js\";\nimport { mapMutations } from \"vuex\";\nimport Footer from '@/components/Footer';\nimport { getStorage } from '@/utils/utis';\nimport { apiCheckAvailability } from '@/API/loan';\nimport { isLogin } from \"@/utils/utis\";\nexport default {\n  components: {\n    Footer,\n    [_Toast.name]: _Toast,\n    [_Icon.name]: _Icon\n  },\n  data() {\n    return {\n      itemName: process.env.VUE_APP_ITEM_NAME,\n      worryFreeData: [{\n        name: this.$t('业界高性价比'),\n        desc: this.$t('校方源头合作机构,信息透明,靠谱高效。'),\n        icon: require('@/assets/image/locn/worry_free1.png'),\n        iconName: 'meiyuan9'\n      }, {\n        name: this.$t('急速获得留学资格'),\n        desc: this.$t('申请资料辅导,避免资料遗漏和错误,绿色申请通道,最快2周获得申请。'),\n        icon: require('@/assets/image/locn/worry_free2.png'),\n        iconName: 'huojianjiasu'\n      }, {\n        name: this.$t('安全无忧'),\n        desc: this.$t('一站式留学,管家式服务,专业团队提供全程辅助,轻松完成学业。'),\n        icon: require('@/assets/image/locn/worry_free3.png'),\n        iconName: 'dunpai'\n      }],\n      isCheckAvailability: 'false',\n      partnerIcon: [],\n      isEn: getStorage('lang') == 'en',\n      isCn: getStorage('lang') == 'cn'\n    };\n  },\n  created() {\n    var _this = this;\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var _this$$route$query, _this$$route$query2;\n      var paths, i, lang, token;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            // 底部图标.\n            paths = ['https://www.cimbclicks.com.my', 'https://www.cimb.com.my', 'https://www.rhbgroup.com', 'https://www.loanstreet.sg/', 'https://www.dbs.com.sg/', 'https://www.graceloanadvance.com', 'https://hk.lendela.com', 'https://epaycash.hk', 'https://www.hangseng.com/', 'https://www.hsbc.com.hk'];\n            for (i = 0; i < 12; i++) {\n              _this.partnerIcon.push({\n                icon: require(\"@/assets/image/locn/partner/\".concat(i + 1, \".jpg\")),\n                path: paths[i]\n              });\n            }\n            lang = (_this$$route$query = _this.$route.query) === null || _this$$route$query === void 0 ? void 0 : _this$$route$query.lang;\n            token = (_this$$route$query2 = _this.$route.query) === null || _this$$route$query2 === void 0 ? void 0 : _this$$route$query2.token;\n            token && localStorage.setItem('token', token);\n            _context.t0 = token;\n            if (!_context.t0) {\n              _context.next = 9;\n              break;\n            }\n            _context.next = 9;\n            return _this.$store.dispatch('getUserInfo');\n          case 9:\n            if (lang) {\n              if (lang != localStorage.getItem('lang')) {\n                _this.$i18n.locale = lang;\n                _this.setLanguage(lang);\n              }\n            }\n            if (isLogin()) {\n              _this.requireCheckAvailability();\n            }\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }))();\n  },\n  methods: _objectSpread(_objectSpread({}, mapMutations([\"setLanguage\"])), {}, {\n    requireCheckAvailability() {\n      var _this2 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return apiCheckAvailability();\n            case 2:\n              _this2.isCheckAvailability = _context2.sent;\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }))();\n    },\n    handleJump(path) {\n      if (window.plus) {\n        plus.runtime.openURL(path);\n        return;\n      } else {\n        window.open(path);\n      }\n    },\n    handleApply() {\n      if (!isLogin()) {\n        this.$notifyWarn(this.$t(\"请先登录\"));\n        return this.$router.push('/login');\n      }\n      if (this.isCheckAvailability == 'true') this.$router.push('/loan/apply');\n    },\n    handleMine() {\n      if (!isLogin()) {\n        this.$notifyWarn(this.$t(\"请先登录\"));\n        return this.$router.push('/login');\n      }\n      this.$router.push('/loan/my');\n    }\n  })\n};","map":null,"metadata":{},"sourceType":"module"}