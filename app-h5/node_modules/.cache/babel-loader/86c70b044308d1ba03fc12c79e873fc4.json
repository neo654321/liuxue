{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport { gerenxinxi_post, huoquyue_post } from \"@/API/user\";\nexport default {\n  state: {\n    userInfo: null,\n    userMoney: null\n  },\n  getters: {\n    userInfo: function userInfo(state) {\n      return state.userInfo;\n    },\n    userMoney: function userMoney(state) {\n      return state.userMoney;\n    }\n  },\n  mutations: {\n    SET_USERINFO: function SET_USERINFO(state, info) {\n      state.userInfo = info;\n    },\n    SET_USERMONEY: function SET_USERMONEY(state, money) {\n      state.userMoney = money;\n    }\n  },\n  actions: {\n    getUserInfo: function getUserInfo(_ref) {\n      var commit = _ref.commit;\n      var TOKEN = localStorage.getItem('token');\n      return new Promise(function (resovle, reject) {\n        if (TOKEN) {\n          gerenxinxi_post({}).then(function (res) {\n            commit('SET_USERINFO', res);\n            resovle(res);\n          })[\"catch\"](function () {\n            commit('SET_USERINFO', null);\n            localStorage.removeItem('token');\n            reject('fetch error');\n          });\n        } else {\n          commit('SET_USERINFO', null);\n          resovle('clear userinfo');\n        }\n      });\n    },\n    getUserMoney: function getUserMoney(_ref2) {\n      var commit = _ref2.commit;\n      var TOKEN = localStorage.getItem('token');\n      return new Promise(function (resovle, reject) {\n        if (TOKEN) {\n          huoquyue_post().then(function (res) {\n            commit('SET_USERMONEY', res);\n            resovle(res);\n          })[\"catch\"](function () {\n            commit('SET_USERMONEY', null);\n            reject('fetch error');\n          });\n        } else {\n          commit('SET_USERMONEY', null);\n          resovle('clear userMoney');\n        }\n      });\n    },\n    logout: function logout(_ref3) {\n      var commit = _ref3.commit;\n      commit('SET_USERINFO', null);\n      localStorage.removeItem('token');\n      localStorage.removeItem('productList');\n      localStorage.removeItem('cartList');\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module"}